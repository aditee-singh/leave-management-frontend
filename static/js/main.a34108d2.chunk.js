(this["webpackJsonpleave-management-frontend"]=this["webpackJsonpleave-management-frontend"]||[]).push([[0],{115:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(61),c=a.n(s),l=(a(178),a(179),a(9)),r=(a(115),a(26)),i=a.n(r),o=a(48),d=a(16),j=a(24),u=a.n(j),p="https://ncs-leave-management.herokuapp.com",b=("".concat(p,"/api/update-user"),function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.apiUrlEndpoint,n=t.data,s="".concat(p).concat(a),console.log(s,n),e.prev=3,e.next=6,u.a.post(s,n);case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(3),console.log("Error in post request: ",e.t0),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()),x=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,s,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.apiUrlEndpoint,n=t.data,s=t.token,c="".concat(p).concat(a),e.prev=2,e.next=5,u()({method:"put",url:c,data:n,headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(s)}});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),console.log("error in put request: ",e.t0),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.apiUrlEndpoint,n=t.data,s="".concat(p).concat(a),e.prev=2,e.next=5,u()({method:"put",url:s,data:n,headers:{"Content-Type":"application/json"}});case 5:return c=e.sent,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(2),console.log("error in put request: ",e.t0),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.apiUrlEndpoint,n=t.token,s="".concat(p).concat(a),e.prev=2,e.next=5,u()({method:"get",url:s,headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(n)}});case 5:return c=e.sent,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(2),console.log("error in put request: ",e.t0),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.apiUrlEndpoint,n="".concat(p).concat(a),e.prev=2,e.next=5,u()({method:"get",url:n,headers:{"Content-Type":"application/json"}});case 5:return s=e.sent,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(2),console.log("error in put request: ",e.t0),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,s,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.apiUrlEndpoint,n=t.id,s=t.token,c="".concat(p).concat(a,"/").concat(n),e.prev=2,e.next=5,u()({method:"delete",url:c,headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(s)}});case 5:return l=e.sent,console.log(l),e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(2),console.log("error in delete request: ",e.t0),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),v=a(1),f=function(e){var t=Object(n.useState)(null),a=Object(l.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(null),j=Object(l.a)(r,2),u=j[0],p=j[1],x=Object(n.useState)(!1),h=Object(l.a)(x,2),m=(h[0],h[1]),O=Object(d.g)(),g=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={email:s,password:u},console.log("data sending to backend: ",a),e.next=5,b({apiUrlEndpoint:"/api/login",data:a});case 5:(n=e.sent)?(console.log("data received after user logged in: ",n.data),n.data.jwt&&(localStorage.setItem("userToken",JSON.stringify(n.data)),localStorage.setItem("userData",JSON.stringify(n.data.data)),O.push("/dashboard"))):(alert("Either the email or password is incorrect."),O.push("/"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"login-form ".concat(e.classes),children:Object(v.jsxs)("form",{onSubmit:g,className:"flex flex-column",children:[Object(v.jsx)("span",{className:"label",style:{color:"##1a73e8"},children:"Email Address"}),Object(v.jsx)("input",{placeholder:"Email Address",className:"input",style:{width:"400px"},type:"email",onChange:function(e){c(e.target.value)}}),Object(v.jsx)("span",{className:"label",style:{paddingTop:"24px"},children:"Password"}),Object(v.jsx)("input",{placeholder:"Password",className:"input",type:"password",style:{width:"400px"},onChange:function(e){p(e.target.value)}}),Object(v.jsxs)("div",{className:"flex flex-row forgot",children:[Object(v.jsx)("span",{children:Object(v.jsxs)("label",{className:"container",children:["Remember Me",Object(v.jsx)("input",{type:"checkbox",checked:"checked",readOnly:!0}),Object(v.jsx)("span",{className:"checkmark"})]})}),Object(v.jsx)("span",{style:{fontSize:"16px",color:"#1A73E8"},onClick:function(e){m(!0)},children:"Forgot Password?"})]}),Object(v.jsx)("button",{className:"login-button",type:"submit",style:{cursor:"pointer"},children:"Login"})]})})},y=a(313),w=a(314),N=a(291),S=a(317),D=function(e){var t=Object(d.g)(),a=Object(n.useState)("it"),s=Object(l.a)(a,2),c=s[0],r=s[1],j=Object(n.useState)("prof"),u=Object(l.a)(j,2),p=u[0],x=u[1],h=Object(n.useState)(null),m=Object(l.a)(h,2),O=m[0],g=m[1],f=Object(n.useState)(null),D=Object(l.a)(f,2),C=D[0],k=D[1],L=Object(n.useState)(null),T=Object(l.a)(L,2),F=T[0],A=T[1],R=Object(n.useState)(null),E=Object(l.a)(R,2),q=E[0],I=E[1],z=function(){var e=Object(o.a)(i.a.mark((function e(a){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={fullName:O,email:F,designation:p,department:c,phone:C,password:q},console.log("data sending for signup: ",n),e.next=5,b({apiUrlEndpoint:"/api/signup",data:n});case 5:(s=e.sent)?(console.log("data received after signup: ",s),alert("Signup success!"),window.location.reload()):(alert("unable to signup"),t.push("/"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"login-form ".concat(e.classes),children:Object(v.jsxs)("form",{onSubmit:z,className:"flex flex-column",children:[Object(v.jsx)("span",{className:"label",children:"Full Name"}),Object(v.jsx)("input",{placeholder:"Full Name",className:"signup-input",style:{width:"400px"},onChange:function(e){g(e.target.value)}}),Object(v.jsx)("div",{className:"flex flex-row",children:Object(v.jsxs)("div",{style:{marginTop:"15px",display:"flex",alignItems:"center",flexFlow:"row wrap"},children:[Object(v.jsx)("span",{style:{marginRight:"40px"},children:Object(v.jsxs)(y.a,{children:[Object(v.jsx)(w.a,{id:"demo-simple-select-label",children:"Department"}),Object(v.jsxs)(N.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{width:"182px"},label:"Department",name:"department",value:c,onChange:function(e){r(e.target.value)},children:[Object(v.jsx)(S.a,{value:"CSE",children:"CS"}),Object(v.jsx)(S.a,{value:"it",children:"IT"}),Object(v.jsx)(S.a,{value:"ece",children:"ECE"}),Object(v.jsx)(S.a,{value:"ee",children:"EE"}),Object(v.jsx)(S.a,{value:"eee",children:"EEE"}),Object(v.jsx)(S.a,{value:"ce",children:"CE"}),Object(v.jsx)(S.a,{value:"me",children:"ME"})]})]})}),Object(v.jsx)("span",{children:Object(v.jsxs)(y.a,{children:[Object(v.jsx)(w.a,{id:"demo-simple-select-label",children:"Designation"}),Object(v.jsxs)(N.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{width:"182px"},label:"Designation",name:"designation",value:p,onChange:function(e){x(e.target.value)},children:[Object(v.jsx)(S.a,{value:"prof",children:"Professor"}),Object(v.jsx)(S.a,{value:"hod",children:"HOD"}),Object(v.jsx)(S.a,{value:"asstprof",children:"Assistant Professor"}),Object(v.jsx)(S.a,{value:"management",children:"Management"}),Object(v.jsx)(S.a,{value:"finance",children:"Finance"}),Object(v.jsx)(S.a,{value:"zzz",children:"Finance"})]})]})})]})}),Object(v.jsx)("span",{className:"label",style:{paddingTop:"24px"},children:"E-mail Address"}),Object(v.jsx)("input",{placeholder:"E-mail Address",className:"signup-input",type:"email",style:{width:"400px"},onChange:function(e){A(e.target.value)}}),Object(v.jsx)("span",{className:"label",style:{paddingTop:"24px"},children:"Password"}),Object(v.jsx)("input",{placeholder:"Password",type:"password",className:"signup-input",style:{width:"400px"},onChange:function(e){I(e.target.value)}}),Object(v.jsx)("span",{className:"label",style:{paddingTop:"24px"},children:"Phone Number"}),Object(v.jsx)("input",{placeholder:"Password",className:"signup-input",type:"number",style:{width:"400px"},onChange:function(e){k(e.target.value)}}),Object(v.jsx)("button",{className:"signup-button",type:"submit",style:{cursor:"pointer"},children:"Signup"})]})})},C=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],s=t[1];return Object(v.jsx)("div",{className:"landing-page",children:Object(v.jsx)("div",{className:"root-div ".concat(a?"top2":"top1"),children:Object(v.jsxs)("div",{className:"header",children:[Object(v.jsxs)("div",{className:"flex flex-row",children:[Object(v.jsx)("span",{className:"login ".concat(a?"border-primary font-primary":"border-secondary font-secondary"," "),onClick:function(){return s(!0)},style:{width:"200px",cursor:"pointer"},children:"Login"}),Object(v.jsx)("span",{className:"signup ".concat(a?"border-secondary font-secondary":"border-primary front-primary"," "),onClick:function(){return s(!1)},style:{width:"200px",cursor:"pointer"},children:"Signup"})]}),Object(v.jsx)(D,{classes:a?"dn":"flex"}),Object(v.jsx)(f,{classes:a?"flex":"dn"})]})})})},k=(a(140),a(306)),L=a(307),T=a(278),F=a(318),A=a(41),R=a.n(A),E=function(e){var t=e.adminLeaveDash,a=JSON.parse(localStorage.getItem("userToken")),n=function(e){var t=e.id,n=e.status;u()({url:"https://ncs-leave-management.herokuapp.com/api/leave-application/".concat(t),method:"put",headers:{Authorization:"Bearer ".concat(a.jwt)},data:{status:n}}).then((function(e){window.location.reload()})).catch((function(e){console.log(e)}))};return Object(v.jsx)(v.Fragment,{children:t.map((function(e){return"pending"===e.status.toLowerCase()&&Object(v.jsxs)(k.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(v.jsx)(L.a,{component:"th",scope:"row",children:e.createdBy.fullName}),Object(v.jsx)(L.a,{align:"",children:e.leaveRequestFor}),Object(v.jsx)(L.a,{align:"",children:e.duration}),Object(v.jsx)(L.a,{align:"",children:R()(e.startDate).format("DD/MM/YYYY")}),Object(v.jsx)(L.a,{align:"",children:R()(e.endDate).format("DD/MM/YYYY")}),Object(v.jsx)(L.a,{align:"",children:e.reason}),Object(v.jsx)(L.a,{align:"",children:e.substituteClasses[0].substituteFaculty.fullName}),Object(v.jsx)(L.a,{align:"",sx:{alignItems:"inline"},children:Object(v.jsxs)(T.a,{direction:"row",spacing:2,children:[Object(v.jsx)(F.a,{variant:"contained",className:"admin-btn-accept",onClick:function(){return t=e._id,console.log(t),void n({id:t,status:"approved"});var t},sx:{fontSize:"8px",width:"5px"},children:"Accept"}),Object(v.jsx)(F.a,{variant:"contained",className:"admin-btn-reject",onClick:function(){return t=e._id,console.log(t),void n({id:t,status:"rejected"});var t},sx:{fontSize:"8px",width:"5px"},children:"Reject"})]})})]},e._id)}))})},q=a(308),I=a(304),z=a(309),Y=a(310),P=a(311),M=function(e){var t=e.leaveDashData;return Object(v.jsxs)("div",{style:{marginRight:"20px",marginTop:"40px"},children:[Object(v.jsx)("h3",{children:" Pending Leaves "}),Object(v.jsx)(q.a,{component:I.a,children:Object(v.jsxs)(z.a,{"aria-label":"simple table",children:[Object(v.jsx)(Y.a,{children:Object(v.jsxs)(k.a,{children:[Object(v.jsx)(L.a,{children:Object(v.jsx)("b",{children:"Requested By"})}),Object(v.jsx)(L.a,{align:"",children:Object(v.jsx)("b",{children:"Leave Type"})}),Object(v.jsx)(L.a,{align:"",children:Object(v.jsx)("b",{children:"Duration"})}),Object(v.jsx)(L.a,{align:"",children:Object(v.jsx)("b",{children:"From Date"})}),Object(v.jsx)(L.a,{align:"",children:Object(v.jsx)("b",{children:"To Date"})}),Object(v.jsx)(L.a,{align:"",children:Object(v.jsx)("b",{children:"Reason"})}),Object(v.jsx)(L.a,{align:"",children:Object(v.jsx)("b",{children:"Substituion"})}),Object(v.jsx)(L.a,{align:"center",children:Object(v.jsx)("b",{children:"Action"})})]})}),Object(v.jsx)(P.a,{children:t&&Object(v.jsx)(E,{adminLeaveDash:t})})]})})]})},J=a(42),B=a(18),U=a(298),_=a(222),W=a(296),H=a(290),V=function(e){var t=e.leaveDashData,a=e.currentLeaveDashData,s=e.setcurrentLeaveDashData,c=Object(n.useState)(null),r=Object(l.a)(c,2),i=r[0],o=r[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(_.b,{dateAdapter:H.a,children:["Date",Object(v.jsxs)("div",{className:"flex flex-row",style:{marginTop:"10px"},children:[Object(v.jsx)(W.a,{value:i,onChange:function(e){s(t),o(e),s(Object(B.a)(new Set(t.filter((function(t){return new Date(e)>=new Date(t.startDate)&&new Date(e)<=new Date(t.endDate)})))))},InputProps:{readOnly:!0},disablePast:!0,renderInput:function(e){return Object(v.jsx)(U.a,Object(J.a)({},e))},format:"dd-mm-yyyy"}),Object(v.jsx)("button",{className:"today-btn",onClick:function(){s(t),o(null)},children:"Reset"})]})]}),Object(v.jsxs)("div",{className:"flex flex-row leave-div teacher-div",style:{marginTop:"20px"},children:[Object(v.jsxs)("div",{className:"flex flex-column leave-column0",children:[Object(v.jsx)("span",{className:"number",children:Object(B.a)(new Set(a.map((function(e){return e.createdBy.email&&new Date(e.endDate)>=new Date})))).length||0}),Object(v.jsx)("span",{className:"leave-caption",children:"Teachers on Leave"})]}),Object(v.jsxs)("div",{className:"flex flex-column leave-column",children:[Object(v.jsx)("span",{className:"number",children:a.filter((function(e){return"casual"===e.leaveRequestFor.toLowerCase()&&new Date(e.endDate)>=new Date})).length||0}),Object(v.jsx)("span",{className:"leave-caption",children:"Casual Leaves"})]}),Object(v.jsxs)("div",{className:"flex flex-column leave-column",children:[Object(v.jsx)("span",{className:"number",children:a.filter((function(e){return"sick"===e.leaveRequestFor.toLowerCase()&&new Date(e.endDate)>=new Date})).length||0}),Object(v.jsx)("span",{className:"leave-caption",children:"Sick Leaves"})]}),Object(v.jsxs)("div",{className:"flex flex-column leave-column1",children:[Object(v.jsx)("span",{className:"number",children:a.filter((function(e){return"casual"!==e.leaveRequestFor.toLowerCase()&&new Date(e.endDate)>=new Date})).length||0}),Object(v.jsx)("span",{className:"leave-caption",children:"Other Leaves"})]})]})]})},G=a(88),K=(a(210),function(e){var t=e.data,a=JSON.parse(localStorage.getItem("userToken")),s=Object(n.useState)(!1),c=Object(l.a)(s,2),r=c[0],i=c[1],o=r?"db":"dn",d=function(e){i(!r)};return Object(v.jsxs)("div",{className:"flex flex-column table",children:[Object(v.jsxs)("div",{className:"flex flex-row table-header",children:[Object(v.jsx)("span",{style:{width:"12%",textAlign:"center"},children:"Applied on"}),Object(v.jsx)("span",{style:{width:"20%",textAlign:"center"},children:"Type of Leave"}),Object(v.jsx)("span",{style:{width:"10%",textAlign:"center"},children:"Duration"}),Object(v.jsx)("span",{style:{width:"30%",textAlign:"center"},children:"Leave Date"}),Object(v.jsx)("span",{style:{width:"10%",textAlign:"center"},children:"Status"}),Object(v.jsx)("span",{style:{width:"20%",textAlign:"center"},children:"Substitute status"}),Object(v.jsx)("span",{style:{width:"20%",textAlign:"center"}})]}),t&&t.map((function(e){return Object(v.jsxs)("div",{className:"flex flex-row table-body",children:[Object(v.jsx)("span",{style:{width:"12%",textAlign:"center"},children:new Date(e.createdAt).toLocaleDateString()}),Object(v.jsx)("span",{style:{width:"20%",textAlign:"center"},children:e.leaveRequestFor}),Object(v.jsx)("span",{style:{width:"10%",textAlign:"center"},children:e.duration}),Object(v.jsxs)("span",{style:{width:"30%",textAlign:"center"},children:[new Date(e.startDate).toLocaleDateString(),"-"," ",new Date(e.endDate).toLocaleDateString()]}),Object(v.jsx)("span",{style:{width:"10%",textAlign:"center"},children:e.status}),Object(v.jsxs)("span",{onClick:d,className:"dropdown",style:{width:"15%",textAlign:"center"},children:[Object(v.jsx)("span",{style:{marginRight:"20px",textAlign:"center"},children:"1/5"}),r?Object(v.jsx)(G.b,{}):Object(v.jsx)(G.a,{}),Object(v.jsxs)("div",{className:"dropdown-content ".concat(o),children:[Object(v.jsxs)("span",{className:"flex flex-row",children:[Object(v.jsx)("p",{children:"Ajay"}),Object(v.jsx)(G.c,{style:{marginLeft:"20px"}})]}),Object(v.jsxs)("span",{className:"flex flex-column",children:[Object(v.jsx)("p",{children:"Ajay"}),Object(v.jsx)(G.d,{style:{marginLeft:"20px"}})]})]})]}),"pending"==e.status.toLowerCase()?Object(v.jsxs)("span",{className:"flex flex-row",style:{width:"20%"},children:[Object(v.jsx)("button",{style:{backgroundColor:"#1a73e8",color:"white",border:"none",paddingTop:"8px",paddingBottom:"8px",paddingLeft:"18px",paddingRight:"18px",borderRadius:"5px",marginRight:"16px"},onClick:function(){return t=e._id,void alert(t);var t},children:"Edit"}),Object(v.jsx)("button",{style:{border:"none",color:"red",backgroundColor:"white"},onClick:function(){return t=e._id,void g({apiUrlEndpoint:"/api/leave-application",id:t,token:a.jwt});var t},children:"Cancel"})]}):Object(v.jsx)("span",{className:"flex flex-row",style:{width:"20%"}})]},e._id)}))]})}),Q=function(e){var t=e.leaveDashData,a=Object(d.g)();return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"flex flex-row leave-div",children:[Object(v.jsxs)("div",{className:"flex flex-column leave-column0",children:[Object(v.jsx)("span",{className:"number",children:t.filter((function(e){return"casual"==e.leaveRequestFor.toLowerCase()})).length||0}),Object(v.jsx)("span",{className:"leave-caption",children:"Casual Leaves"})]}),Object(v.jsxs)("div",{className:"flex flex-column leave-column",children:[Object(v.jsx)("span",{className:"number",children:t.filter((function(e){return"sick"==e.leaveRequestFor.toLowerCase()})).length||0}),Object(v.jsx)("span",{className:"leave-caption",children:"Sick Leaves"})]}),Object(v.jsxs)("div",{className:"flex flex-column leave-column1",children:[Object(v.jsx)("span",{className:"number",children:t.filter((function(e){return"casual"!=e.leaveRequestFor.toLowerCase()&&"sick"!=e.leaveRequestFor.toLowerCase()})).length||0}),Object(v.jsx)("span",{className:"leave-caption",children:"Other Leaves"})]})]}),Object(v.jsx)("button",{className:"dash-btn",onClick:function(){a.push("/leave-application")},style:{cursor:"pointer"},children:"Apply for leave"}),Object(v.jsxs)("div",{style:{marginRight:"20px",marginTop:"40px"},children:[Object(v.jsx)("h3",{className:"pending-leave",children:" Pending Leaves "}),Object(v.jsx)(K,{data:t})]})]})},X=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)([]),r=Object(l.a)(c,2),i=r[0],o=r[1],d=JSON.parse(localStorage.getItem("userData")),j=JSON.parse(localStorage.getItem("userToken"));return Object(n.useEffect)((function(){m({apiUrlEndpoint:"/api/leave-application",token:j.jwt}).then((function(e){var t,a;s(null===(t=e.data)||void 0===t?void 0:t.data),o(null===(a=e.data)||void 0===a?void 0:a.data)})).catch((function(e){return console.log("error in dashboard: ",e)}))}),[]),Object(v.jsxs)("div",{className:"dashboard flex flex-column",children:[Object(v.jsx)("div",{children:Object(v.jsx)("h2",{className:"dash-heading",children:" Dashboard "})}),"hod"!==d.designation?Object(v.jsx)(Q,{leaveDashData:a}):Object(v.jsxs)("div",{children:[Object(v.jsx)(V,{leaveDashData:a,currentLeaveDashData:i,setcurrentLeaveDashData:o}),Object(v.jsx)(M,{leaveDashData:i})]})]})},Z=a(81),$=(a(211),a(300)),ee=a(312),te=a(305),ae=a(287),ne=a(295),se=a(281),ce=a(283),le=a(149),re=a(282),ie=a(284),oe=a(285),de=a(286),je=a(288),ue=a(289),pe=function(){var e=Object(d.g)(),t=JSON.parse(localStorage.getItem("userData"));return Object(v.jsxs)($.a,{sx:{width:260,flexShrink:0,"& .MuiDrawer-paper":{width:260,boxSizing:"border-box"}},variant:"permanent",anchor:"left",children:[Object(v.jsx)(ee.a,{}),Object(v.jsxs)(te.a,{style:{marginTop:"20px"},children:[Object(v.jsxs)(ne.a,{button:!0,children:[Object(v.jsx)(se.a,{children:Object(v.jsx)(re.a,{})}),Object(v.jsx)(ce.a,{primary:"Dashboard",style:{fontSize:"16px"},onClick:function(){return e.push("/dashboard")}})]},"Dashboard"),"hod"!==t.designation?Object(v.jsxs)(ne.a,{button:!0,children:[Object(v.jsx)(se.a,{children:Object(v.jsx)(ie.a,{})}),Object(v.jsx)(ce.a,{primary:"My Leaves",style:{fontSize:"16px"},onClick:function(){return e.push("/my-leaves")}})]},"My Leaves"):null,Object(v.jsxs)(ne.a,{button:!0,children:[Object(v.jsx)(se.a,{children:Object(v.jsx)(le.a,{style:{width:"20px"}})}),Object(v.jsx)(ce.a,{primary:"Apply For Leave",style:{fontSize:"16px"},onClick:function(){return e.push("/leave-application")}})]},"Apply For Leave"),Object(v.jsxs)(ne.a,{button:!0,children:[Object(v.jsx)(se.a,{children:Object(v.jsx)(oe.a,{})}),Object(v.jsx)(ce.a,{primary:"Substitution Request",style:{fontSize:"16px"},onClick:function(){return e.push("/substitute-requests")}})]},"Substitution Request"),"hod"===t.designation&&Object(v.jsxs)(ne.a,{button:!0,children:[Object(v.jsx)(se.a,{children:Object(v.jsx)(de.a,{})}),Object(v.jsx)(ce.a,{primary:"Approved Leaves",style:{fontSize:"16px"},onClick:function(){return e.push("/approved-leaves")}})]},"Approved Leaves")]}),Object(v.jsx)(ae.a,{}),Object(v.jsxs)(te.a,{children:[Object(v.jsxs)(ne.a,{button:!0,children:[Object(v.jsx)(se.a,{children:Object(v.jsx)(je.a,{})}),Object(v.jsx)(ce.a,{primary:"Profile",style:{fontSize:"16px"},onClick:function(){return e.push("/profile")}})]},"Profile"),Object(v.jsxs)(ne.a,{button:!0,children:[Object(v.jsx)(se.a,{children:Object(v.jsx)(ue.a,{})}),Object(v.jsx)(ce.a,{primary:"Logout",style:{fontSize:"16px"},onClick:function(){localStorage.removeItem("userData"),localStorage.removeItem("userToken"),e.push("/")}})]},"Logout")]})]})},be=function(e){var t=e.substituteClasses;return Object(v.jsx)(v.Fragment,{children:t.map((function(e){var t;return e.status&&"approved"==e.status&&Object(v.jsxs)(k.a,{children:[Object(v.jsx)(L.a,{component:"th",scope:"row",children:R()(e.date).format("DD/MM/YYYY")}),Object(v.jsx)(L.a,{align:"right",children:e.time}),Object(v.jsx)(L.a,{align:"right",children:e.subject}),Object(v.jsx)(L.a,{align:"right",children:null===e||void 0===e||null===(t=e.sustituteOf)||void 0===t?void 0:t.fullName}),Object(v.jsx)(L.a,{align:"right",children:R()(e.updatedAt).format("DD/MM/YYYY")})]},e._id)}))})},xe=(a(212),function(e){var t=e.data,a=JSON.parse(localStorage.getItem("userToken")),n=function(e){var t=e.id,n=e.status;u()({url:"https://ncs-leave-management.herokuapp.com/api/user-request/".concat(t),method:"put",headers:{Authorization:"Bearer ".concat(a.jwt)},data:{status:n}}).then((function(e){console.log("approved",e.data),window.location.reload()})).catch((function(e){console.log(e)}))};return Object(v.jsx)(v.Fragment,{children:t.map((function(e){return!e.status&&Object(v.jsxs)("div",{className:"flex flex-column card",children:[Object(v.jsx)("span",{className:"caption-text",children:"Requested by"}),Object(v.jsx)("span",{className:"main-text",children:"Aditee"}),Object(v.jsxs)("span",{className:"flex flex-row",children:[Object(v.jsxs)("span",{className:"flex flex-column",children:[Object(v.jsx)("span",{className:"caption-text",children:"Date"}),Object(v.jsx)("span",{className:"main-text",style:{marginRight:"100px"},children:R()(e.date).format("DD/MM/YYYY")})]}),Object(v.jsxs)("span",{className:"flex flex-column",children:[Object(v.jsx)("span",{className:"caption-text",children:"Time"}),Object(v.jsx)("span",{className:"main-text",children:e.time})]})]}),Object(v.jsx)("span",{className:"caption-text",children:"Class"}),Object(v.jsx)("span",{className:"main-text",children:e.subject}),Object(v.jsxs)("span",{className:"flex flex-row",children:[Object(v.jsx)("button",{className:"card-btn-accept",onClick:function(){var t;t=e._id,console.log(t),n({id:t,status:"approved"})},children:"Accept"}),Object(v.jsx)("button",{className:"card-btn-deny",onClick:function(){var t;t=e._id,console.log(t),n({id:t,status:"rejected"})},children:"Deny"})]})]},e._id)}))})}),he=(a(213),function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],s=t[1],c=JSON.parse(localStorage.getItem("userToken")),r=JSON.parse(localStorage.getItem("userData"));return Object(n.useEffect)((function(){u()({url:"https://ncs-leave-management.herokuapp.com/api/user-request/?requestID=".concat(r._id),method:"get",headers:{authorization:"Bearer ".concat(c.jwt)}}).then((function(e){var t,a,n,c;(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.substituteClasses)&&s(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(c=n.user)||void 0===c?void 0:c.substituteClasses);console.log("substitute classes",e.data.user.substituteClasses)})).catch((function(e){console.log(e)}))}),[]),Object(v.jsxs)("div",{className:"subs flex flex-column",children:[Object(v.jsx)("div",{children:Object(v.jsx)("h2",{className:"subs-heading",children:" Substitution Request "})}),Object(v.jsx)("div",{children:Object(v.jsx)("h3",{className:"subs-subheading",children:" Pending Request "})}),Object(v.jsx)("div",{class:"flex",style:{flexWrap:"wrap"},children:a&&Object(v.jsx)(xe,{data:a})}),Object(v.jsxs)("div",{style:{marginRight:"20px",marginTop:"50px"},children:[Object(v.jsx)("span",{style:{fontWeight:"normal",fontSize:"18px",lineHeight:"21px"},children:"Substituted Classes"}),Object(v.jsx)(q.a,{component:I.a,style:{marginTop:"50px"},children:Object(v.jsxs)(z.a,{"aria-label":"simple table",children:[Object(v.jsx)(Y.a,{children:Object(v.jsxs)(k.a,{children:[Object(v.jsx)(L.a,{children:Object(v.jsx)("b",{children:"Date"})}),Object(v.jsx)(L.a,{align:"right",children:Object(v.jsx)("b",{children:"Time"})}),Object(v.jsx)(L.a,{align:"right",children:Object(v.jsx)("b",{children:"Class"})}),Object(v.jsx)(L.a,{align:"right",children:Object(v.jsx)("b",{children:"Substitution Of"})}),Object(v.jsx)(L.a,{align:"right",children:Object(v.jsx)("b",{children:"Accepted On"})})]})}),Object(v.jsx)(P.a,{children:a&&Object(v.jsx)(be,{substituteClasses:a})})]})})]})]})}),me=a(150),Oe=a(270),ge=a(299),ve=a(320),fe=a(292),ye=(a(214),a(294)),we=function(e){var t=e.formValues,a=e.setFormValues,s=Object(n.useState)([]),c=Object(l.a)(s,2),r=c[0],i=c[1],o=Object(n.useState)([]),d=Object(l.a)(o,2),j=d[0],u=d[1];return Object(n.useEffect)((function(){Promise.all([O({apiUrlEndpoint:"/api/subject"}),O({apiUrlEndpoint:"/api/all-user"})]).then((function(e){var t,a;i(null===(t=e[0].data)||void 0===t?void 0:t.data),u(null===(a=e[1].data)||void 0===a?void 0:a.data)})).catch((function(e){return console.log("error in dashboard: ",e)}))}),[]),Object(v.jsxs)("div",{style:{border:"1px solid gray",borderRadius:"5px"},children:[t.map((function(e,n){return Object(v.jsxs)("div",{className:"substitute",style:{padding:"5px",marginTop:"5px"},children:[Object(v.jsx)("span",{className:"substituionFlex",children:Object(v.jsx)(Oe.a,{component:"legend",children:" "})}),Object(v.jsxs)("span",{className:"substituionFlex",children:[Object(v.jsx)("p",{style:{marginLeft:"24px"},children:"Subject"}),Object(v.jsxs)(y.a,{style:{marginLeft:"24px"},children:[Object(v.jsx)(w.a,{id:"subject-select-input-label",children:"Subject"}),Object(v.jsx)(N.a,{id:"subject-select-label",value:e.subject||"",label:"Subject",onChange:function(e){var s=Object(B.a)(t);s[n].subject=e.target.value,a(s)},style:{height:"56px",width:"182px",marginRight:"10px"},children:r.map((function(e){return Object(v.jsx)(S.a,{value:e.subjectName,children:e.subjectName+" "+e.subjectCode},e._id)}))})]})]}),Object(v.jsxs)(_.b,{dateAdapter:H.a,children:[Object(v.jsx)("span",{className:"substituionFlex",style:{marginRight:"10px"},children:Object(v.jsx)(W.a,{label:"Date",name:"date",style:{marginRight:"10px"},value:e.date||"",onChange:function(e){var s=Object(B.a)(t);s[n].date=e,a(s)},renderInput:function(e){return Object(v.jsx)(U.a,Object(J.a)({},e))}})}),Object(v.jsx)("span",{className:"substituionFlex",style:{marginRight:"10px"},children:Object(v.jsx)(ye.a,{label:"Time",name:"time",style:{marginRight:"10px"},value:e.time||"",onChange:function(e){var s=Object(B.a)(t);s[n].time=e,a(s)},renderInput:function(e){return Object(v.jsx)(U.a,Object(J.a)({},e))}})})]}),Object(v.jsx)("span",{className:"substituionFlex",children:Object(v.jsxs)(y.a,{children:[Object(v.jsx)(w.a,{id:"demo-simple-select-label",children:"Faculty"}),Object(v.jsx)(N.a,{labelId:"Faculty Name",id:"faculty-select-label",value:e&&e.substituteFaculty?"".concat(e.substituteFaculty,",").concat(e.email):"",label:"Faculty",variant:"outlined",onChange:function(e){console.log(e.target.value.split(","));var s=Object(B.a)(t);s[n].substituteFaculty=e.target.value.split(",")[0],s[n].email=e.target.value.split(",")[1],a(s)},style:{height:"56px",width:"182px",marginRight:"10px"},children:j.map((function(e){return Object(v.jsx)(S.a,{value:"".concat(e._id,",").concat(e.email),children:e.fullName},e._id)}))})]})}),Object(v.jsx)("span",{className:"substituionFlex",children:Object(v.jsx)(U.a,{name:"email",style:{marginRight:"10px"},value:e.email||"",onChange:function(e){return function(e,n){var s=Object(B.a)(t);s[e][n.target.name]=n.target.value,a(s)}(n,e)},id:"outlined-basic",label:"Email Address",variant:"outlined",disabled:!0})})]})})),Object(v.jsx)("span",{children:Object(v.jsx)(F.a,{style:{marginTop:"10px",marginLeft:"30px",margin:"10px"},variant:"contained",onClick:function(){a([].concat(Object(B.a)(t),[{subject:"",date:"",time:"",substituteFaculty:"",email:""}]))},children:"Add Substitute"})})]})};a(215);function Ne(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),s=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[s,a,n].join("-")}var Se=function(e){var t=Object(n.useState)(new Date,null),a=Object(l.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(new Date,null),i=Object(l.a)(r,2),o=i[0],d=i[1],j=Object(n.useState)([{subject:"",date:"",time:"",substituteFaculty:"",email:""}]),p=Object(l.a)(j,2),b=p[0],x=p[1];return Object(v.jsxs)("div",{className:"leave1 flex flex-column",children:[Object(v.jsx)("h2",{style:{margintop:"44px",fontWeight:"600",fontSize:"28px",lineHeight:"34px"},children:"Apply for Leave"}),Object(v.jsx)("div",{children:Object(v.jsxs)("span",{style:{paddingTop:"44px",fontWeight:"500",fontSize:"16px",lineHeight:"21px"},children:[Object(v.jsx)("b",{children:"Leave Address:\xa0"}),Object(v.jsx)("span",{style:{color:"#1a73e8"},children:e.name})]})}),Object(v.jsx)("form",{name:"tox",id:"my-form-id",onSubmit:function(e){e.preventDefault();var t,a=[],n=JSON.parse(localStorage.getItem("userData"))._id,c=Object(me.a)(b);try{for(c.s();!(t=c.n()).done;){var l=t.value;a.push({substituteFaculty:l.substituteFaculty,data:{date:Ne(l.date),time:new Date(l.time).toTimeString().split(" ")[0],subject:l.subject,email:l.email,sustituteOf:n}})}}catch(d){c.e(d)}finally{c.f()}var r={leaveRequestFor:e.target.leave.value,leaveType:e.target.leave.value,duration:e.target.dayLength.value,startDate:Ne(s),endDate:Ne(o),reason:e.target.reason.value,substituteClasses:a},i=JSON.parse(localStorage.getItem("userToken"));console.log(r),u()({url:"https://ncs-leave-management.herokuapp.com/api/leave-application",method:"post",data:r,headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(i.jwt)}}).then((function(e){console.log(e.data),window.location.reload()})).catch((function(e){console.log(e)})),console.log(JSON.stringify(r))},children:Object(v.jsxs)(y.a,{component:"fieldset",children:[Object(v.jsxs)("div",{style:{paddingTop:"36px"},children:[Object(v.jsxs)(Oe.a,{component:"legend",className:"text-primary",children:["Apply Leave For:"," "]}),Object(v.jsxs)(ge.a,{row:!0,"aria-label":"leave",name:"leave",children:[Object(v.jsx)(ve.a,{value:"casual",className:"leave-label",control:Object(v.jsx)(fe.a,{required:!0}),label:"Casual Leave",style:{fontSize:"16px"}}),Object(v.jsx)(ve.a,{value:"earned",className:"leave-label",control:Object(v.jsx)(fe.a,{required:!0}),label:"Earned Leave"}),Object(v.jsx)(ve.a,{value:"semester",className:"leave-label",control:Object(v.jsx)(fe.a,{required:!0}),label:"Semester Break"})]})]}),Object(v.jsxs)("div",{children:[Object(v.jsxs)(Oe.a,{component:"legend",style:{paddingTop:"40px"},children:["Duration:"," "]}),Object(v.jsxs)(ge.a,{row:!0,"aria-label":"duration",name:"dayLength",required:!0,children:[Object(v.jsx)(ve.a,{value:"halfday",className:"leave-label",control:Object(v.jsx)(fe.a,{required:!0}),label:"Half Day"}),Object(v.jsx)(ve.a,{value:"fullday",className:"leave-label",control:Object(v.jsx)(fe.a,{required:!0}),label:"Full Day"})]})]}),Object(v.jsxs)("div",{className:"date",style:{paddingTop:"40px"},children:[Object(v.jsx)("p",{style:{marginRight:"38px",color:"gray"},className:"text-primary",children:"Date"}),Object(v.jsx)("p",{style:{marginRight:"230px"},className:"text-primary",children:"From"}),Object(v.jsx)("p",{className:"text-primary",children:"To"})]}),Object(v.jsx)(_.b,{dateAdapter:H.a,children:Object(v.jsxs)("div",{className:"flex flex-row",children:[Object(v.jsx)("span",{style:{marginLeft:"65px"},children:Object(v.jsx)(W.a,{value:s,onChange:function(e){c(e)},InputProps:{readOnly:!0},disablePast:!0,renderInput:function(e){return Object(v.jsx)(U.a,Object(J.a)({},e))},format:"dd-mm-yyyy"})}),Object(v.jsx)("span",{style:{marginLeft:"35px"},children:Object(v.jsx)(W.a,{value:o,disablePast:!0,onChange:function(e){d(e)},renderInput:function(e){return Object(v.jsx)(U.a,Object(J.a)({},e))},required:!0})})]})}),Object(v.jsxs)("div",{children:[Object(v.jsx)(Oe.a,{component:"legend",style:{paddingTop:"36px"},children:Object(v.jsx)("span",{style:{color:"black"},className:"text-primary",children:"Reason:"})}),Object(v.jsx)(U.a,{name:"reason",id:"text",type:"text",placeholder:"Type your reason here...",required:!0,style:{width:"1040px"}})]}),Object(v.jsxs)("div",{style:{marginTop:"36px"},children:[Object(v.jsx)("h3",{style:{fontWeight:"500"},children:"Substitue for classes"}),Object(v.jsx)(we,{formValues:b,setFormValues:x})]}),Object(v.jsx)(F.a,{variant:"contained",type:"submit",style:{marginTop:"10px",height:"53px",width:"216px",marginBottom:"20px"},children:"Submit Application"})]})})]})},De=(a(141),function(){var e=Object(d.g)();return Object(v.jsxs)("form",{name:"tox2",id:"my-form-id2",onSubmit:function(t){t.preventDefault();var a={email:JSON.parse(localStorage.getItem("userData")).email,password:t.target.oldpass.value,newPassword:t.target.newpass.value};console.log(a),h({apiUrlEndpoint:"/api/change-password",data:a}).then((function(t){e.push("/profile")})).catch((function(e){console.log(e),alert("Unable to update profile")}))},children:[Object(v.jsxs)("span",{style:{fontSize:"18px",fontWeight:"500"},children:[" ","Change Password"," "]}),Object(v.jsxs)("p",{style:{color:"gray",fontWeight:"300",fontSize:"13px"},children:[" ","The password should be 6 character long"," "]}),Object(v.jsxs)(y.a,{component:"fieldset",children:[Object(v.jsxs)("div",{style:{marginTop:"15px"},children:[Object(v.jsx)(Oe.a,{component:"legend",children:Object(v.jsx)("b",{className:"text-primary",style:{color:"black"},children:"Old Password"})}),Object(v.jsx)(U.a,{name:"oldpass",id:"text",type:"password",size:"small",required:!0,style:{width:"480px"}})]}),Object(v.jsx)("div",{style:{marginTop:"24px",display:"flex",alignItems:"center",flexFlow:"row wrap"},children:Object(v.jsxs)("span",{style:{marginRight:"40px"},children:[Object(v.jsx)(Oe.a,{component:"legend",children:Object(v.jsx)("b",{className:"text-primary",style:{color:"black"},children:"New Password"})}),Object(v.jsx)(U.a,{name:"newpass",id:"text",type:"password",size:"small",required:!0,style:{width:"480px"}})]})}),Object(v.jsxs)(F.a,{variant:"contained",type:"submit",style:{marginTop:"36px",marginBottom:"20px",width:"15rem"},children:[" ","Reset Password"]})]})]})}),Ce=function(){var e=Object(d.g)(),t=JSON.parse(localStorage.getItem("userData")),a=Object(n.useState)(t.fullName),s=Object(l.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)(t.department),o=Object(l.a)(i,2),j=o[0],u=o[1],p=Object(n.useState)(t.designation),b=Object(l.a)(p,2),h=b[0],m=b[1],O=Object(n.useState)(t.email),g=Object(l.a)(O,2),f=g[0],D=g[1],C=Object(n.useState)(t.phone),k=Object(l.a)(C,2),L=k[0],T=k[1];return Object(v.jsxs)("div",{className:"userprofile flex flex-column",children:[Object(v.jsx)("div",{children:Object(v.jsxs)("form",{name:"tox",id:"my-form-id",onSubmit:function(t){t.preventDefault();var a={};t.target.name.value&&(a.fullName=t.target.name.value),t.target.department.value&&(a.department=t.target.department.value),t.target.designation.value&&(a.designation=t.target.designation.value),t.target.email.value&&(a.email=t.target.email.value),t.target.phone.value&&(a.phone=t.target.phone.value);var n=JSON.parse(localStorage.getItem("userToken")).jwt;x({apiUrlEndpoint:"/api/update-user",data:a,token:n}).then((function(t){localStorage.setItem("userData",JSON.stringify(t.data.data)),console.log("data received after update profile",t.data.data),e.push("/profile")})).catch((function(e){console.log(e),alert("Unable to update profile")}))},children:[Object(v.jsx)("h2",{style:{fontWeight:"600",fontSize:"28px",lineHeight:"34px"},children:"Profile"}),Object(v.jsxs)(y.a,{component:"fieldset",children:[Object(v.jsxs)("div",{style:{marginTop:"15px"},children:[Object(v.jsx)(Oe.a,{component:"legend",children:Object(v.jsx)("b",{className:"text-primary",children:"Full Name"})}),Object(v.jsx)(U.a,{name:"name",id:"text",type:"text",placeholder:c,onChange:function(e){r(e.target.value.toLowerCase())},size:"small",style:{width:"480px"}})]}),Object(v.jsxs)("div",{style:{marginTop:"24px",display:"flex",alignItems:"center",flexFlow:"row wrap"},children:[Object(v.jsx)("span",{style:{marginRight:"24px"},children:Object(v.jsxs)(y.a,{children:[Object(v.jsx)(w.a,{id:"demo-simple-select-label",children:"Department"}),Object(v.jsxs)(N.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{width:"228px",height:"42px"},label:"Department",name:"department",value:j?j.toLowerCase():"",onChange:function(e){u(e.target.value.toLowerCase())},children:[Object(v.jsx)(S.a,{value:"cse",children:"CS"}),Object(v.jsx)(S.a,{value:"it",children:"IT"}),Object(v.jsx)(S.a,{value:"ece",children:"ECE"}),Object(v.jsx)(S.a,{value:"eee",children:"EEE"}),Object(v.jsx)(S.a,{value:"ce",children:"CE"}),Object(v.jsx)(S.a,{value:"me",children:"ME"})]})]})}),Object(v.jsx)("span",{children:Object(v.jsxs)(y.a,{children:[Object(v.jsx)(w.a,{id:"demo-simple-select-label",children:"Designation"}),Object(v.jsxs)(N.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{width:"228px",height:"42px"},label:"Designation",name:"designation",value:h,onChange:function(e){m(e.target.value.toLowerCase())},readOnly:!0,children:[Object(v.jsx)(S.a,{value:"student",children:"Student"}),Object(v.jsx)(S.a,{value:"faculty",children:"Faculty"}),Object(v.jsx)(S.a,{value:"hod",children:"HOD"}),Object(v.jsx)(S.a,{value:"management",children:"Management"}),Object(v.jsx)(S.a,{value:"finance",children:"Finance"}),Object(v.jsx)(S.a,{value:"zzz",children:"Finance"})]})]})})]}),Object(v.jsxs)("div",{style:{marginTop:"24px"},children:[Object(v.jsx)(Oe.a,{component:"legend",children:Object(v.jsx)("b",{className:"text-primary",children:"Email Address"})}),Object(v.jsx)(U.a,{name:"email",id:"text",type:"email",size:"small",placeholder:f,onChange:function(e){D(e.target.value.toLowerCase())},style:{width:"480px"}})]}),Object(v.jsxs)("div",{style:{marginTop:"15px"},children:[Object(v.jsx)(Oe.a,{component:"legend",children:Object(v.jsx)("b",{className:"text-primary",children:"Phone Number"})}),Object(v.jsx)(U.a,{name:"phone",id:"text",type:"text",size:"small",placeholder:L,onChange:function(e){T(e.target.value)},style:{width:"480px"}})]}),Object(v.jsxs)(F.a,{variant:"contained",type:"submit",style:{marginTop:"20px",width:"194px",height:"53px"},children:[" ","Edit Profile"]})]})]})}),Object(v.jsx)("span",{style:{display:"flex",height:"5px",width:"60px",backgroundColor:"lightgray",borderRadius:"3px",marginTop:"24px",marginBottom:"24px"},children:"\xa0"}),Object(v.jsx)("div",{children:Object(v.jsx)(De,{})})]})},ke=a(152),Le=["sideNav","component"],Te=function(e){var t,a=e.sideNav,n=e.component,s=Object(ke.a)(e,Le);try{t=localStorage.getItem("userToken").length>10?1:0}catch(c){t=0}return Object(v.jsx)(d.b,Object(J.a)(Object(J.a)({},s),{},{render:function(e){return 1===t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(a,{}),Object(v.jsx)(n,Object(J.a)({},e))]}):Object(v.jsx)(d.a,{to:{pathname:"/"}})}}))},Fe=a(151),Ae=function(e){var t=e.approvedLeavePartial,a=e.status;return Object(v.jsx)(v.Fragment,{children:t.map((function(e){return e.status===a&&Object(v.jsxs)(k.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(v.jsx)(L.a,{component:"th",scope:"row",children:e.createdBy.fullName}),Object(v.jsx)(L.a,{align:"center",style:{marginLeft:"10px"},children:e.leaveRequestFor}),Object(v.jsx)(L.a,{align:"center",children:e.duration}),Object(v.jsxs)(L.a,{align:"center",children:[R()(e.startDate).format("DD/MM/YYYY")," -"," ",R()(e.endDate).format("DD/MM/YYYY")]}),Object(v.jsx)(L.a,{align:"center",children:R()(e.startDate).format("DD/MM/YYYY")})]},e._id)}))})},Re=function(e){Object(Fe.a)(e);var t=Object(n.useState)([]),a=Object(l.a)(t,2),s=a[0],c=a[1],r=JSON.parse(localStorage.getItem("userToken"));return Object(n.useEffect)((function(){u()({url:"https://ncs-leave-management.herokuapp.com/api/leave-application",method:"get",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(r.jwt)}}).then((function(e){c(e.data.data)})).catch((function(e){return console.log("error",e)}))}),[]),Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"dashboard flex flex-column",children:Object(v.jsxs)("div",{style:{marginRight:"20px",marginTop:"40px"},children:[Object(v.jsx)("span",{className:"dash-heading",children:"Approved Leaves "}),Object(v.jsx)(q.a,{component:I.a,style:{marginTop:"30px",border:"2 px solid lightgray"},children:Object(v.jsxs)(z.a,{"aria-label":"simple table",children:[Object(v.jsx)(Y.a,{children:Object(v.jsxs)(k.a,{children:[Object(v.jsx)(L.a,{children:Object(v.jsx)("b",{children:"Requested By"})}),Object(v.jsx)(L.a,{align:"center",children:Object(v.jsx)("b",{children:"Leave Type"})}),Object(v.jsx)(L.a,{align:"center",children:Object(v.jsx)("b",{children:"Duration"})}),Object(v.jsx)(L.a,{align:"center",children:Object(v.jsx)("b",{children:"Leave Date"})}),Object(v.jsx)(L.a,{align:"center",children:Object(v.jsx)("b",{children:"Approved on"})})]})}),Object(v.jsx)(P.a,{children:s&&Object(v.jsx)(Ae,{approvedLeavePartial:s,status:"approved"})})]})})]})})})},Ee=(a(216),function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],s=t[1],c=JSON.parse(localStorage.getItem("userToken")),r=Object(d.g)();return Object(n.useEffect)((function(){m({apiUrlEndpoint:"/api/leave-application",token:c.jwt}).then((function(e){var t;s(null===(t=e.data)||void 0===t?void 0:t.data)})).catch((function(e){return console.log("error in dashboard: ",e)}))})),Object(v.jsxs)("div",{style:{marginLeft:"20%",marginTop:"40px"},children:[Object(v.jsx)("h2",{className:"my-leaves-heading",children:" My Leaves "}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"flex flex-row leave-div",children:[Object(v.jsxs)("div",{className:"flex flex-column leave-column0",children:[Object(v.jsx)("span",{className:"number",children:a.filter((function(e){return"casual"==e.leaveRequestFor.toLowerCase()})).length||0}),Object(v.jsx)("span",{className:"leave-caption",children:"Casual Leaves"})]}),Object(v.jsxs)("div",{className:"flex flex-column leave-column",children:[Object(v.jsx)("span",{className:"number",children:a.filter((function(e){return"sick"==e.leaveRequestFor.toLowerCase()})).length||0}),Object(v.jsx)("span",{className:"leave-caption",children:"Sick Leaves"})]}),Object(v.jsxs)("div",{className:"flex flex-column leave-column1",children:[Object(v.jsx)("span",{className:"number",children:a.filter((function(e){return"casual"!=e.leaveRequestFor.toLowerCase()&&"sick"!=e.leaveRequestFor.toLowerCase()})).length||0}),Object(v.jsx)("span",{className:"leave-caption",children:"Other Leaves"})]})]}),Object(v.jsx)("button",{className:"dash-btn",onClick:function(){r.push("/leave-application")},style:{cursor:"pointer"},children:"Apply for leave"}),Object(v.jsxs)("div",{style:{marginRight:"20px",marginTop:"40px"},children:[Object(v.jsx)("h3",{className:"pending-leave",children:" All Leaves "}),Object(v.jsx)(K,{data:a})]})]})]})});var qe=function(){return Object(v.jsx)(Z.a,{children:Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)(d.d,{children:[Object(v.jsx)(d.b,{exact:!0,path:"/",component:C}),Object(v.jsx)(Te,{exact:!0,path:"/dashboard",sideNav:pe,component:X}),Object(v.jsx)(Te,{exact:!0,path:"/profile",sideNav:pe,component:Ce}),Object(v.jsx)(Te,{exact:!0,path:"/leave-application",sideNav:pe,component:Se}),Object(v.jsx)(Te,{exact:!0,path:"/substitute-requests",sideNav:pe,component:he}),Object(v.jsx)(Te,{exact:!0,path:"/approved-leaves",sideNav:pe,component:Re}),Object(v.jsx)(Te,{eaxct:!0,path:"/my-leaves",sideNav:pe,component:Ee})]})})})};c.a.render(Object(v.jsx)(Z.a,{children:Object(v.jsx)(qe,{})}),document.getElementById("root"))}},[[217,1,2]]]);
//# sourceMappingURL=main.a34108d2.chunk.js.map