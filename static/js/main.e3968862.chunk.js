(this["webpackJsonpleave-management-frontend"]=this["webpackJsonpleave-management-frontend"]||[]).push([[0],{183:function(e,t,a){},184:function(e,t,a){},186:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(60),i=a.n(s),l=(a(183),a(184),a(9)),r=a(80),j=a.n(r),d=a(120),o=(a(186),a(27)),b=a.n(o),h=a(16),x=a(275),u=a(295),O=a(315),p=a(316),g=a(289),m=a(317),v=a(318),f=a(0),y=function(e){var t=Object(h.g)(),a=function(){var e=Object(d.a)(j.a.mark((function e(a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),n={fullName:N,email:R,designation:w,department:i,phone:q,password:z},console.log(n),b.a.post("https://ncs-leave-management.herokuapp.com/api/signup",n).then((function(e){console.log(e.data),t.push("/profile")})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=Object(n.useState)(null),s=Object(l.a)(c,2),i=s[0],r=s[1],o=Object(n.useState)(null),y=Object(l.a)(o,2),w=y[0],S=y[1],D=Object(n.useState)(null),C=Object(l.a)(D,2),N=C[0],T=C[1],F=Object(n.useState)(null),k=Object(l.a)(F,2),q=k[0],L=k[1],E=Object(n.useState)(null),I=Object(l.a)(E,2),R=I[0],P=I[1],M=Object(n.useState)(null),A=Object(l.a)(M,2),z=A[0],B=A[1];return Object(f.jsx)("div",{className:"w-80 self-center flex-column justify-center ".concat(e.classes),children:Object(f.jsxs)("form",{onSubmit:a,className:"flex flex-column",children:[Object(f.jsxs)(x.a,{component:"legend",style:{marginTop:"20px"},children:[Object(f.jsx)("b",{children:"Full Name"})," "]}),Object(f.jsx)(u.a,{name:"name",id:"text",onChange:function(e){T(e.target.value)},type:"text",required:!0}),Object(f.jsx)("div",{className:"flex flex-row",children:Object(f.jsxs)("div",{style:{marginTop:"15px",display:"flex",alignItems:"center",flexFlow:"row wrap"},children:[Object(f.jsx)("span",{style:{marginRight:"40px"},children:Object(f.jsxs)(O.a,{children:[Object(f.jsx)(p.a,{id:"demo-simple-select-label",children:"Department"}),Object(f.jsxs)(g.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{width:"150px"},label:"Department",name:"department",value:i,onChange:function(e){r(e.target.value)},children:[Object(f.jsx)(m.a,{value:"CSE",children:"CS"}),Object(f.jsx)(m.a,{value:"it",children:"IT"}),Object(f.jsx)(m.a,{value:"ece",children:"ECE"}),Object(f.jsx)(m.a,{value:"ee",children:"EE"}),Object(f.jsx)(m.a,{value:"eee",children:"EEE"}),Object(f.jsx)(m.a,{value:"ce",children:"CE"}),Object(f.jsx)(m.a,{value:"me",children:"ME"})]})]})}),Object(f.jsx)("span",{children:Object(f.jsxs)(O.a,{children:[Object(f.jsx)(p.a,{id:"demo-simple-select-label",children:"Designation"}),Object(f.jsxs)(g.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{width:"150px"},label:"Designation",name:"designation",value:w,onChange:function(e){S(e.target.value)},children:[Object(f.jsx)(m.a,{value:"prof",children:"Professor"}),Object(f.jsx)(m.a,{value:"hod",children:"HOD"}),Object(f.jsx)(m.a,{value:"asstprof",children:"Assistant Professor"}),Object(f.jsx)(m.a,{value:"management",children:"Management"}),Object(f.jsx)(m.a,{value:"finance",children:"Finance"}),Object(f.jsx)(m.a,{value:"zzz",children:"Finance"})]})]})})]})}),Object(f.jsxs)(x.a,{component:"legend",style:{marginTop:"20px"},children:[Object(f.jsx)("b",{children:"Phone Number"})," "]}),Object(f.jsx)(u.a,{name:"phone",id:"text",onChange:function(e){L(e.target.value)},type:"text",required:!0}),Object(f.jsxs)(x.a,{component:"legend",style:{marginTop:"20px"},children:[Object(f.jsx)("b",{children:"Email"})," "]}),Object(f.jsx)(u.a,{name:"email",id:"text",onChange:function(e){P(e.target.value)},type:"text",required:!0}),Object(f.jsxs)(x.a,{component:"legend",style:{marginTop:"20px"},children:[Object(f.jsx)("b",{children:"Password"})," "]}),Object(f.jsx)(u.a,{name:"password",id:"text",type:"password",onChange:function(e){B(e.target.value)},required:!0}),Object(f.jsx)(v.a,{variant:"contained",type:"submit",style:{marginTop:"20px",marginBottom:"10px"},children:" Sign Up"})]})})},w=function(e){var t=Object(n.useState)(null),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(null),r=Object(l.a)(i,2),o=r[0],O=r[1],p=Object(h.g)(),g=function(){var e=Object(d.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={email:c,password:o},b.a.post("https://ncs-leave-management.herokuapp.com/api/login",a).then((function(e){console.log(e.data),e.data.jwt&&(localStorage.setItem("userToken",JSON.stringify(e.data)),localStorage.setItem("userData",JSON.stringify(e.data.data)),console.log("Login succesfull"),p.push("/profile"))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"flex-column justify-center ".concat(e.classes),children:Object(f.jsxs)("form",{onSubmit:g,className:"flex flex-column",children:[Object(f.jsxs)(x.a,{component:"legend",style:{marginTop:"20px"},children:[Object(f.jsx)("b",{children:"Email"})," "]}),Object(f.jsx)(u.a,{name:"name",id:"text",type:"text",onChange:function(e){s(e.target.value)},required:!0}),Object(f.jsxs)(x.a,{component:"legend",style:{marginTop:"20px"},children:[Object(f.jsx)("b",{children:"Password"})," "]}),Object(f.jsx)(u.a,{name:"name",id:"text",type:"password",onChange:function(e){O(e.target.value)},required:!0}),Object(f.jsx)(v.a,{variant:"contained",type:"submit",style:{marginTop:"20px",marginBottom:"50px"},children:" Login"})]})})},S=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(f.jsxs)("div",{className:"root-div flex flex-column",children:[Object(f.jsxs)("div",{className:"flex flex-row ",children:[Object(f.jsx)("span",{className:" w-50 ph-20 ".concat(a?"bb":""," "),onClick:function(){return c(!0)},children:"Login"}),Object(f.jsx)("span",{className:" w-50 ph-20 ".concat(a?"":"bb"),onClick:function(){return c(!1)},children:"Signup"})]}),Object(f.jsx)(y,{classes:a?"dn":"flex"}),Object(f.jsx)(w,{classes:a?"flex":"dn"})]})},D=(a(215),a(307)),C=a(303),N=a(308),T=a(309),F=a(305),k=a(306),q=a(310),L=function(e){var t=e.leaveDash;return console.log("huehue",t),Object(f.jsx)(f.Fragment,{children:t&&t.map((function(e){return Object(f.jsxs)(F.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(f.jsx)(k.a,{component:"th",scope:"row",children:"DUMMY"}),Object(f.jsx)(k.a,{align:"right",children:"DUMMY"}),Object(f.jsx)(k.a,{align:"right",children:"DUMMY"}),Object(f.jsx)(k.a,{align:"right",children:"DUMMY"}),Object(f.jsx)(k.a,{align:"right",children:"DUMMY"}),Object(f.jsx)(k.a,{align:"right",children:"Accept"})]},"dummy")}))})},E=a(283),I=function(e){var t=e.adminLeaveDash,a=JSON.parse(localStorage.getItem("userToken")),n=function(e){var t=e.id,n=e.status;b()({url:"https://ncs-leave-management.herokuapp.com/api/leave-application/".concat(t),method:"put",headers:{Authorization:"Bearer ".concat(a.jwt)},data:{status:n}}).then((function(e){console.log("huehueh",e.data),window.location.reload()})).catch((function(e){console.log(e)}))};return Object(f.jsx)(f.Fragment,{children:t.map((function(e){return"Pending"===e.status&&Object(f.jsxs)(F.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(f.jsx)(k.a,{component:"th",scope:"row",children:e.createdBy.fullName}),Object(f.jsx)(k.a,{align:"right",children:e.leaveRequestFor}),Object(f.jsx)(k.a,{align:"right",children:e.duration}),Object(f.jsx)(k.a,{align:"right",children:e.startDate}),Object(f.jsx)(k.a,{align:"right",children:e.endDate}),Object(f.jsx)(k.a,{align:"right",children:e.reason}),Object(f.jsx)(k.a,{align:"right",children:e.substituteClasses[0].substituteFaculty.fullName}),Object(f.jsx)(k.a,{align:"right",sx:{alignItems:"inline"},children:Object(f.jsxs)(E.a,{direction:"row",spacing:2,children:[Object(f.jsx)(v.a,{variant:"contained",color:"success",onClick:function(){return t=e._id,console.log(t),void n({id:t,status:"approved"});var t},sx:{fontSize:"8px",width:"5px"},children:"Accept"}),Object(f.jsx)(v.a,{variant:"contained",color:"error",onClick:function(){return t=e._id,console.log(t),void n({id:t,status:"rejected"});var t},sx:{fontSize:"8px",width:"5px"},children:"Reject"})]})})]},e._id)}))})},R=function(){Object(h.g)();var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=(t[1],Object(n.useState)([])),s=Object(l.a)(c,2),i=s[0],r=s[1],j=JSON.parse(localStorage.getItem("userData")),d=JSON.parse(localStorage.getItem("userToken"));return Object(n.useEffect)((function(){b()({url:"https://ncs-leave-management.herokuapp.com/api/leave-application",method:"get",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(d.jwt)}}).then((function(e){console.log("huehuehue",e.data.data),r(e.data.data)})).catch((function(e){return console.log("error",e)}))}),[]),Object(f.jsxs)("div",{className:"dashboard flex flex-column",children:[Object(f.jsx)("div",{children:Object(f.jsx)("h2",{children:" Dashboard "})}),"hod"!==j.designation?Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{style:{marginTop:"15px",width:"50%"},children:Object(f.jsx)(D.a,{component:C.a,children:Object(f.jsxs)(N.a,{"aria-label":"simple table",children:[Object(f.jsx)(T.a,{children:Object(f.jsxs)(F.a,{children:[Object(f.jsx)(k.a,{children:Object(f.jsx)("b",{children:"Casual Leave"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Sick Leave"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Earned Leaves"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Pending Requests"})})]})}),Object(f.jsx)(q.a,{children:Object(f.jsxs)(F.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(f.jsx)(k.a,{component:"th",scope:"row",children:"12"}),Object(f.jsx)(k.a,{align:"right",children:"5"}),Object(f.jsx)(k.a,{align:"right",children:"5"}),Object(f.jsx)(k.a,{align:"right",children:"3"})]},"leaves")})]})})}),Object(f.jsxs)("div",{style:{marginRight:"20px",marginTop:"40px"},children:[Object(f.jsx)("h3",{children:" Pending Leaves  "}),Object(f.jsx)(D.a,{component:C.a,children:Object(f.jsxs)(N.a,{"aria-label":"simple table",children:[Object(f.jsx)(T.a,{children:Object(f.jsxs)(F.a,{children:[Object(f.jsx)(k.a,{children:Object(f.jsx)("b",{children:"Applied On"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Type of Leave"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Duration"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Leave Date"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Substitute Status"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Actions"})})]})}),Object(f.jsx)(q.a,{children:a&&Object(f.jsx)(L,{leaveDash:a})})]})})]})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{style:{marginTop:"15px",width:"50%"},children:Object(f.jsx)(D.a,{component:C.a,children:Object(f.jsxs)(N.a,{"aria-label":"simple table",children:[Object(f.jsx)(T.a,{children:Object(f.jsxs)(F.a,{children:[Object(f.jsx)(k.a,{children:Object(f.jsx)("b",{children:"No. of teachers on leave"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Casual Leave"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Earned Leaves"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Pending Leaves"})})]})}),Object(f.jsx)(q.a,{children:Object(f.jsxs)(F.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(f.jsx)(k.a,{component:"th",scope:"row",children:"12"}),Object(f.jsx)(k.a,{align:"right",children:"5"}),Object(f.jsx)(k.a,{align:"right",children:"5"}),Object(f.jsx)(k.a,{align:"right",children:"3"})]},"leaves")})]})})}),Object(f.jsxs)("div",{style:{marginRight:"20px",marginTop:"40px"},children:[Object(f.jsx)("h3",{children:" Pending Leaves  "}),Object(f.jsx)(D.a,{component:C.a,children:Object(f.jsxs)(N.a,{"aria-label":"simple table",children:[Object(f.jsx)(T.a,{children:Object(f.jsxs)(F.a,{children:[Object(f.jsx)(k.a,{children:Object(f.jsx)("b",{children:"Requested By"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Leave Type"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Duration"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"From Date"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"To Date"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Reason"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Substituion"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Action"})})]})}),Object(f.jsx)(q.a,{children:i&&Object(f.jsx)(I,{adminLeaveDash:i})})]})})]})]})]})},P=a(118),M=(a(216),a(297)),A=a(311),z=a(304),B=a(284),J=a(293),U=a(285),Y=a(286),_=a(72),G=a.n(_),V=a(149),H=a.n(V),W=function(){var e=Object(h.g)(),t=JSON.parse(localStorage.getItem("userData"));return Object(f.jsxs)(M.a,{sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box"}},variant:"permanent",anchor:"left",children:[Object(f.jsx)(A.a,{}),Object(f.jsx)(B.a,{}),Object(f.jsxs)(z.a,{children:[Object(f.jsxs)(J.a,{button:!0,children:[Object(f.jsx)(U.a,{children:Object(f.jsx)(G.a,{})}),Object(f.jsx)(Y.a,{primary:"Dashboard",onClick:function(){return e.push("/dashboard")}})]},"Dashboard"),Object(f.jsxs)(J.a,{button:!0,children:[Object(f.jsx)(U.a,{children:Object(f.jsx)(G.a,{})}),Object(f.jsx)(Y.a,{primary:"Apply For Leave",onClick:function(){return e.push("/leave-application")}})]},"Apply For Leave"),Object(f.jsxs)(J.a,{button:!0,children:[Object(f.jsx)(U.a,{children:Object(f.jsx)(G.a,{})}),Object(f.jsx)(Y.a,{primary:"Substitution Request",onClick:function(){return e.push("/substitute-requests")}})]},"Substitution Request"),"hod"===t.designation&&Object(f.jsxs)(J.a,{button:!0,children:[Object(f.jsx)(U.a,{children:Object(f.jsx)(G.a,{})}),Object(f.jsx)(Y.a,{primary:"Approved Leaves",onClick:function(){return e.push("/approved-leaves")}})]},"Approved Leaves")]}),Object(f.jsx)(B.a,{}),Object(f.jsxs)(z.a,{children:[Object(f.jsxs)(J.a,{button:!0,children:[Object(f.jsx)(U.a,{children:Object(f.jsx)(G.a,{})}),Object(f.jsx)(Y.a,{primary:"Profile",onClick:function(){return e.push("/profile")}})]},"Profile"),Object(f.jsxs)(J.a,{button:!0,children:[Object(f.jsx)(U.a,{children:Object(f.jsx)(H.a,{})}),Object(f.jsx)(Y.a,{primary:"Logout",onClick:function(){localStorage.removeItem("userData"),localStorage.removeItem("userToken"),e.push("/")}})]},"Logout")]})]})},K=a(312),Q=a(319),X=a(321),Z=a(320),$=function(e){var t=e.requestCards,a=function(e,t){alert("".concat(e," request of card with index ").concat(t))};return Object(f.jsx)(f.Fragment,{children:t.map((function(e,t){return Object(f.jsxs)(Q.a,{sx:{minWidth:345,margin:"10px",paddingBottom:"6px"},children:[Object(f.jsxs)(Z.a,{children:[Object(f.jsx)("h3",{children:"Requested By"}),Object(f.jsx)("p",{children:e.faculty}),Object(f.jsxs)(K.a,{sx:{display:"flex",p:1,bgcolor:"background.paper"},children:[Object(f.jsx)(K.a,{sx:{p:1,flexGrow:1},children:Object(f.jsx)("b",{children:"Date"})}),Object(f.jsx)(K.a,{sx:{p:1},children:Object(f.jsx)("b",{children:"Time"})})]}),Object(f.jsxs)(K.a,{sx:{display:"flex",p:1,bgcolor:"background.paper"},children:[Object(f.jsx)(K.a,{sx:{p:1,flexGrow:1},children:e.date}),Object(f.jsx)(K.a,{sx:{p:1},children:e.time})]}),Object(f.jsx)(K.a,{sx:{display:"flex",p:1,bgcolor:"background.paper"},children:Object(f.jsx)(K.a,{sx:{p:1,flexGrow:1},children:Object(f.jsx)("b",{children:"Subject"})})}),Object(f.jsx)(K.a,{sx:{display:"flex",p:1,bgcolor:"background.paper"},children:Object(f.jsx)(K.a,{sx:{p:1,flexGrow:1},children:e.subject})})]}),Object(f.jsxs)(X.a,{name:"action",children:[Object(f.jsx)(v.a,{variant:"contained",size:"small",sx:{margin:"20px"},onClick:function(){a("accepted",t)},children:"Accept"}),Object(f.jsx)(v.a,{variant:"contained",size:"small",onClick:function(){a("rejected",t)},children:"Reject"})]})]})}))})},ee=function(e){var t=e.substituteClasses;return console.log("huehue",t),Object(f.jsx)(f.Fragment,{children:t.map((function(e){return Object(f.jsxs)(F.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(f.jsx)(k.a,{component:"th",scope:"row",children:e.date}),Object(f.jsx)(k.a,{align:"right",children:e.time}),Object(f.jsx)(k.a,{align:"right",children:e.subject}),Object(f.jsx)(k.a,{align:"right",children:"DUMMY"}),Object(f.jsx)(k.a,{align:"right",children:"DUMMY"})]},e._id)}))})},te=a(298),ae=(a(217),function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=JSON.parse(localStorage.getItem("userToken")),i=JSON.parse(localStorage.getItem("userData"));function r(e,t,a,n){return{name:e,date:t,time:a,subject:n}}Object(n.useEffect)((function(){b()({url:"https://ncs-leave-management.herokuapp.com/api/user-request/?requestID=".concat(i._id),method:"get",headers:{authorization:"Bearer ".concat(s.jwt)}}).then((function(e){var t,a,n,s;(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.substituteClasses)&&c(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(s=n.user)||void 0===s?void 0:s.substituteClasses)})).catch((function(e){console.log(e)}))}),[]);var j=[r("Mr. wqret","2020-01-02","03:01:01","maths"),r("Mr. sad","2020-01-02","03:01:01","maths"),r("Mr. qwe","2020-01-02","03:01:01","maths")];return Object(f.jsxs)("div",{className:"subs flex flex-column",children:[Object(f.jsx)("div",{children:Object(f.jsx)("h2",{children:" Substitution Request "})}),Object(f.jsx)("div",{children:Object(f.jsx)("h3",{children:" Pending Request "})}),Object(f.jsx)("div",{style:{marginRight:"20px"},children:Object(f.jsx)(K.a,{sx:{flexGrow:1},children:Object(f.jsx)(te.a,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},sx:{padding:"5px",margin:"10px"},children:Object(f.jsx)($,{requestCards:j})})})}),Object(f.jsxs)("div",{style:{marginRight:"20px"},children:[Object(f.jsx)("h2",{children:" Substituted Classes "}),Object(f.jsx)(D.a,{component:C.a,children:Object(f.jsxs)(N.a,{"aria-label":"simple table",children:[Object(f.jsx)(T.a,{children:Object(f.jsxs)(F.a,{children:[Object(f.jsx)(k.a,{children:Object(f.jsx)("b",{children:"Date"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Time"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Class"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Substitution Of"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Accepted On"})})]})}),Object(f.jsx)(q.a,{children:a&&Object(f.jsx)(ee,{substituteClasses:a})})]})})]})]})}),ne=a(47),ce=a(150),se=a(301),ie=a(323),le=a(290),re=a(288),je=a(228),de=a(294),oe=a(17),be=a(291),he=(a(218),function(e){var t=e.formValues,a=e.setFormValues,n=function(e,n){var c=Object(oe.a)(t);c[e][n.target.name]=n.target.value,a(c)};return console.log(t),Object(f.jsxs)(f.Fragment,{children:[t.map((function(e,c){return Object(f.jsxs)("div",{className:"substitute",style:{border:"1px solid gray",borderRadius:"5px",padding:"5px",marginTop:"5px"},children:[Object(f.jsx)("span",{className:"substituionFlex",children:Object(f.jsx)(x.a,{component:"legend",children:"Substituion For Classes: "})}),Object(f.jsx)("span",{className:"substituionFlex",children:Object(f.jsx)(u.a,{name:"subject",value:e.subject||"",onChange:function(e){return n(c,e)},id:"outlined-basic",label:"Subject",variant:"outlined"})}),Object(f.jsxs)(je.b,{dateAdapter:re.a,children:[Object(f.jsx)("span",{className:"substituionFlex",children:Object(f.jsx)(de.a,{label:"Date",name:"date",value:e.date||"",onChange:function(e){var n=Object(oe.a)(t);n[c].date=e,a(n)},renderInput:function(e){return Object(f.jsx)(u.a,Object(ne.a)({},e))}})}),Object(f.jsx)("span",{className:"substituionFlex",children:Object(f.jsx)(be.a,{label:"Time",name:"time",value:e.time||"",onChange:function(e){var n=Object(oe.a)(t);n[c].time=e,a(n)},renderInput:function(e){return Object(f.jsx)(u.a,Object(ne.a)({},e))}})})]}),Object(f.jsx)("span",{className:"substituionFlex",children:Object(f.jsx)(u.a,{name:"substituteFaculty",value:e.substituteFaculty||"",onChange:function(e){return n(c,e)},id:"outlined-basic",label:"Substitution Faculty",variant:"outlined"})}),Object(f.jsx)("span",{className:"substituionFlex",children:Object(f.jsx)(u.a,{name:"email",value:e.email||"",onChange:function(e){return n(c,e)},id:"outlined-basic",label:"Email Address",variant:"outlined"})})]})})),Object(f.jsx)("span",{children:Object(f.jsx)(v.a,{style:{marginTop:"10px"},variant:"contained",onClick:function(){a([].concat(Object(oe.a)(t),[{subject:"",date:"",time:"",substituteFaculty:"",email:""}]))},children:"Add Substitute"})})]})});a(219);function xe(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),c=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[c,a,n].join("-")}var ue=function(e){var t=Object(n.useState)(new Date,null),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(new Date,null),r=Object(l.a)(i,2),j=r[0],d=r[1],o=Object(n.useState)([{subject:"",date:"",time:"",substituteFaculty:"",email:""}]),h=Object(l.a)(o,2),p=h[0],g=h[1];return Object(f.jsxs)("div",{className:"leave1 flex flex-column",children:[Object(f.jsx)("div",{children:Object(f.jsx)("h2",{children:"Apply for Leave"})}),Object(f.jsx)("div",{children:Object(f.jsxs)("span",{style:{paddingTop:"5px"},children:[Object(f.jsx)("b",{children:"Leave Address:\xa0"}),e.name]})}),Object(f.jsx)("form",{name:"tox",id:"my-form-id",onSubmit:function(e){e.preventDefault();var t,a=[],n=Object(ce.a)(p);try{for(n.s();!(t=n.n()).done;){var s=t.value;a.push({substituteFaculty:s.substituteFaculty,data:{date:xe(s.date),time:new Date(s.time).toTimeString().split(" ")[0],subject:s.subject,email:s.email}})}}catch(r){n.e(r)}finally{n.f()}var i={leaveRequestFor:e.target.leave.value,duration:e.target.dayLength.value,startDate:xe(c),endDate:xe(j),reason:e.target.reason.value,substituteClasses:a},l=JSON.parse(localStorage.getItem("userToken"));b()({url:"https://ncs-leave-management.herokuapp.com/api/leave-application",method:"post",data:i,headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(l.jwt)}}).then((function(e){return console.log(e.data)})).catch((function(e){console.log(e)})),console.log(JSON.stringify(i))},children:Object(f.jsxs)(O.a,{component:"fieldset",children:[Object(f.jsxs)("div",{style:{paddingTop:"30px"},children:[Object(f.jsx)(x.a,{component:"legend",children:"Apply Leave For: "}),Object(f.jsxs)(se.a,{row:!0,"aria-label":"leave",name:"leave",children:[Object(f.jsx)(ie.a,{value:"casual",control:Object(f.jsx)(le.a,{required:!0}),label:"Casual Leave"}),Object(f.jsx)(ie.a,{value:"earned",control:Object(f.jsx)(le.a,{required:!0}),label:"Earned Leave"}),Object(f.jsx)(ie.a,{value:"semester",control:Object(f.jsx)(le.a,{required:!0}),label:"Semester Break"})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)(x.a,{component:"legend",style:{paddingTop:"40px"},children:"Duration: "}),Object(f.jsxs)(se.a,{row:!0,"aria-label":"duration",name:"dayLength",required:!0,children:[Object(f.jsx)(ie.a,{value:"halfday",control:Object(f.jsx)(le.a,{required:!0}),label:"Half Day"}),Object(f.jsx)(ie.a,{value:"fullday",control:Object(f.jsx)(le.a,{required:!0}),label:"Full Day"})]})]}),Object(f.jsxs)("div",{style:{paddingTop:"30px"},children:[Object(f.jsx)("span",{children:Object(f.jsx)("p",{children:"Date"})}),Object(f.jsxs)(je.b,{dateAdapter:re.a,children:[Object(f.jsx)("span",{children:Object(f.jsx)(de.a,{label:"From",value:c,onChange:function(e){s(e)},InputProps:{readOnly:!0},disablePast:!0,renderInput:function(e){return Object(f.jsx)(u.a,Object(ne.a)({},e))}})}),Object(f.jsx)("span",{style:{marginLeft:"40px"},children:Object(f.jsx)(de.a,{label:"To",value:j,disablePast:!0,onChange:function(e){d(e)},renderInput:function(e){return Object(f.jsx)(u.a,Object(ne.a)({},e))},required:!0})})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)(x.a,{component:"legend",style:{paddingTop:"30px"},children:"Reason: "}),Object(f.jsx)(u.a,{name:"reason",id:"text",type:"text",required:!0,style:{width:"1040px",height:"104px"}})]}),Object(f.jsx)("div",{children:Object(f.jsx)(he,{formValues:p,setFormValues:g})}),Object(f.jsx)(v.a,{variant:"contained",type:"submit",style:{marginTop:"10px",width:"5rem"},children:" Submit"})]})})]})},Oe=(a(220),function(){var e=Object(h.g)(),t=JSON.parse(localStorage.getItem("userData")),a=Object(n.useState)(t.fullName),c=Object(l.a)(a,2),s=c[0],i=c[1],r=Object(n.useState)(t.department),j=Object(l.a)(r,2),d=j[0],o=j[1],y=Object(n.useState)(t.designation),w=Object(l.a)(y,2),S=w[0],D=w[1],C=Object(n.useState)(t.email),N=Object(l.a)(C,2),T=N[0],F=N[1],k=Object(n.useState)(t.phone),q=Object(l.a)(k,2),L=q[0],E=q[1],I=Object(n.useState)(t._id),R=Object(l.a)(I,2);R[0],R[1];return Object(f.jsxs)("div",{className:"userprofile flex flex-column",children:[Object(f.jsx)("div",{children:Object(f.jsxs)("form",{name:"tox",id:"my-form-id",onSubmit:function(t){t.preventDefault();var a={};t.target.name.value&&(a.fullName=t.target.name.value),t.target.department.value&&(a.department=t.target.department.value),t.target.designation.value&&(a.designation=t.target.designation.value),t.target.email.value&&(a.email=t.target.email.value),t.target.phone.value&&(a.phone=t.target.phone.value);var n=JSON.parse(localStorage.getItem("userToken"));console.log(a);b()({method:"put",url:"https://ncs-leave-management.herokuapp.com/api/update-user",data:a,headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(n.jwt)}}).then((function(t){localStorage.setItem("userData",JSON.stringify(t.data.data)),e.push("/profile")})).catch((function(e){console.log(e)}))},children:[Object(f.jsx)("h2",{children:" Profile "}),Object(f.jsxs)(O.a,{component:"fieldset",children:[Object(f.jsxs)("div",{style:{marginTop:"15px"},children:[Object(f.jsxs)(x.a,{component:"legend",children:[Object(f.jsx)("b",{children:"Full Name"})," "]}),Object(f.jsx)(u.a,{name:"name",id:"text",type:"text",placeholder:s,onChange:function(e){i(e.target.value)},style:{width:"500px"}})]}),Object(f.jsxs)("div",{style:{marginTop:"15px",display:"flex",alignItems:"center",flexFlow:"row wrap"},children:[Object(f.jsx)("span",{style:{marginRight:"40px"},children:Object(f.jsxs)(O.a,{children:[Object(f.jsx)(p.a,{id:"demo-simple-select-label",children:"Department"}),Object(f.jsxs)(g.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{width:"300px"},label:"Department",name:"department",value:d,onChange:function(e){o(e.target.value)},children:[Object(f.jsx)(m.a,{value:"CSE",children:"CS"}),Object(f.jsx)(m.a,{value:"it",children:"IT"}),Object(f.jsx)(m.a,{value:"ece",children:"ECE"}),Object(f.jsx)(m.a,{value:"ee",children:"EE"}),Object(f.jsx)(m.a,{value:"eee",children:"EEE"}),Object(f.jsx)(m.a,{value:"ce",children:"CE"}),Object(f.jsx)(m.a,{value:"me",children:"ME"})]})]})}),Object(f.jsx)("span",{children:Object(f.jsxs)(O.a,{children:[Object(f.jsx)(p.a,{id:"demo-simple-select-label",children:"Designation"}),Object(f.jsxs)(g.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{width:"300px"},label:"Designation",name:"designation",value:S,onChange:function(e){D(e.target.value)},children:[Object(f.jsx)(m.a,{value:"student",children:"Student"}),Object(f.jsx)(m.a,{value:"faculty",children:"Faculty"}),Object(f.jsx)(m.a,{value:"hod",children:"HOD"}),Object(f.jsx)(m.a,{value:"management",children:"Management"}),Object(f.jsx)(m.a,{value:"finance",children:"Finance"}),Object(f.jsx)(m.a,{value:"zzz",children:"Finance"})]})]})})]}),Object(f.jsxs)("div",{style:{marginTop:"15px"},children:[Object(f.jsxs)(x.a,{component:"legend",children:[Object(f.jsx)("b",{children:"Email"})," "]}),Object(f.jsx)(u.a,{name:"email",id:"text",type:"email",placeholder:T,onChange:function(e){F(e.target.value)},style:{width:"500px"}})]}),Object(f.jsxs)("div",{style:{marginTop:"15px"},children:[Object(f.jsxs)(x.a,{component:"legend",children:[Object(f.jsx)("b",{children:"Phone Number"})," "]}),Object(f.jsx)(u.a,{name:"phone",id:"text",type:"text",placeholder:L,onChange:function(e){E(e.target.value)},style:{width:"500px"}})]}),Object(f.jsx)(v.a,{variant:"contained",type:"submit",style:{marginTop:"20px",width:"10rem"},children:" Edit Profile"})]})]})}),Object(f.jsx)("div",{children:Object(f.jsxs)("form",{name:"tox2",id:"my-form-id2",onSubmit:function(e){e.preventDefault();var t={oldpass:e.target.oldpass.value,newpass:e.target.newpass.value,renewpass:e.target.renewpass.value};alert("values to change ".concat(JSON.stringify(t)))},children:[Object(f.jsx)("h2",{children:" Change Password "}),Object(f.jsx)("p",{children:" The password should be 6 character long "}),Object(f.jsxs)(O.a,{component:"fieldset",children:[Object(f.jsxs)("div",{style:{marginTop:"15px"},children:[Object(f.jsxs)(x.a,{component:"legend",children:[Object(f.jsx)("b",{children:"Password"})," "]}),Object(f.jsx)(u.a,{name:"oldpass",id:"text",type:"password",required:!0,style:{width:"500px"}})]}),Object(f.jsxs)("div",{style:{marginTop:"15px",display:"flex",alignItems:"center",flexFlow:"row wrap"},children:[Object(f.jsxs)("span",{style:{marginRight:"40px"},children:[Object(f.jsxs)(x.a,{component:"legend",children:[Object(f.jsx)("b",{children:"New Password"})," "]}),Object(f.jsx)(u.a,{name:"newpass",id:"text",type:"password",required:!0,style:{width:"300px"}})]}),Object(f.jsxs)("span",{children:[Object(f.jsxs)(x.a,{component:"legend",children:[Object(f.jsx)("b",{children:"Re Enter New Password"})," "]}),Object(f.jsx)(u.a,{name:"renewpass",id:"text",type:"password",required:!0,style:{width:"300px"}})]})]}),Object(f.jsx)(v.a,{variant:"contained",type:"submit",style:{marginTop:"20px",width:"15rem"},children:" Reset Password"})]})]})})]})}),pe=a(154),ge=["sideNav","component"],me=function(e){var t,a=e.sideNav,n=e.component,c=Object(pe.a)(e,ge);try{t=localStorage.getItem("userToken").length>10?1:0}catch(s){t=0}return Object(f.jsx)(h.b,Object(ne.a)(Object(ne.a)({},c),{},{render:function(e){return 1===t?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(a,{}),Object(f.jsx)(n,Object(ne.a)({},e))]}):Object(f.jsx)(h.a,{to:{pathname:"/"}})}}))},ve=a(152),fe=function(e){var t=e.approvedLeavePartial,a=e.status;return Object(f.jsx)(f.Fragment,{children:t.map((function(e){return e.status===a&&Object(f.jsxs)(F.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(f.jsx)(k.a,{component:"th",scope:"row",children:e.createdBy.fullName}),Object(f.jsx)(k.a,{align:"right",children:e.leaveRequestFor}),Object(f.jsx)(k.a,{align:"right",children:e.duration}),Object(f.jsx)(k.a,{align:"right",children:e.startDate}),Object(f.jsx)(k.a,{align:"right",children:e.endDate}),Object(f.jsx)(k.a,{align:"right",children:e.reason}),Object(f.jsx)(k.a,{align:"right",children:e.substituteClasses[0].substituteFaculty.fullName})]},e._id)}))})},ye=function(e){Object(ve.a)(e);var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],s=a[1],i=JSON.parse(localStorage.getItem("userToken"));return Object(n.useEffect)((function(){b()({url:"https://ncs-leave-management.herokuapp.com/api/leave-application",method:"get",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(i.jwt)}}).then((function(e){console.log("huehuehue",e.data.data),s(e.data.data)})).catch((function(e){return console.log("error",e)}))}),[]),Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"dashboard flex flex-column",children:Object(f.jsxs)("div",{style:{marginRight:"20px",marginTop:"40px"},children:[Object(f.jsx)("h3",{children:" Approved Leaves  "}),Object(f.jsx)(D.a,{component:C.a,children:Object(f.jsxs)(N.a,{"aria-label":"simple table",children:[Object(f.jsx)(T.a,{children:Object(f.jsxs)(F.a,{children:[Object(f.jsx)(k.a,{children:Object(f.jsx)("b",{children:"Requested By"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Leave Type"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Duration"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"From Date"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"To Date"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Reason"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Substituion"})})]})}),Object(f.jsx)(q.a,{children:c&&Object(f.jsx)(fe,{approvedLeavePartial:c,status:"approved"})})]})}),Object(f.jsx)("h3",{children:" Rejected Leaves  "}),Object(f.jsx)(D.a,{component:C.a,children:Object(f.jsxs)(N.a,{"aria-label":"simple table",children:[Object(f.jsx)(T.a,{children:Object(f.jsxs)(F.a,{children:[Object(f.jsx)(k.a,{children:Object(f.jsx)("b",{children:"Requested By"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Leave Type"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Duration"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"From Date"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"To Date"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Reason"})}),Object(f.jsx)(k.a,{align:"right",children:Object(f.jsx)("b",{children:"Substituion"})})]})}),Object(f.jsx)(q.a,{children:c&&Object(f.jsx)(fe,{approvedLeavePartial:c,status:"rejected"})})]})})]})})})};var we=function(){return Object(f.jsx)(P.a,{children:Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(h.d,{children:[Object(f.jsx)(h.b,{exact:!0,path:"/",component:S}),Object(f.jsx)(me,{exact:!0,path:"/dashboard",sideNav:W,component:R}),Object(f.jsx)(me,{exact:!0,path:"/profile",sideNav:W,component:Oe}),Object(f.jsx)(me,{exact:!0,path:"/leave-application",sideNav:W,component:ue}),Object(f.jsx)(me,{exact:!0,path:"/substitute-requests",sideNav:W,component:ae}),Object(f.jsx)(me,{exact:!0,path:"/approved-leaves",sideNav:W,component:ye})]})})})};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(we,{})}),document.getElementById("root"))}},[[221,1,2]]]);
//# sourceMappingURL=main.e3968862.chunk.js.map