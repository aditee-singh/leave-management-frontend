(this["webpackJsonpleave-management-frontend"]=this["webpackJsonpleave-management-frontend"]||[]).push([[0],{183:function(e,t,a){},184:function(e,t,a){},186:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(60),s=a.n(c),i=(a(183),a(184),a(9)),l=a(81),r=a.n(l),j=a(120),d=(a(186),a(27)),o=a.n(d),b=a(16),h=a(275),x=a(295),u=a(315),O=a(316),p=a(289),g=a(317),m=a(318),v=a(0),f=function(e){var t=Object(b.g)(),a=function(){var e=Object(j.a)(r.a.mark((function e(a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),n={fullName:N,email:R,designation:w,department:l,phone:q,password:z},console.log(n),o.a.post("https://ncs-leave-management.herokuapp.com/api/signup",n).then((function(e){console.log(e.data),t.push("/profile")})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=Object(n.useState)(null),s=Object(i.a)(c,2),l=s[0],d=s[1],f=Object(n.useState)(null),y=Object(i.a)(f,2),w=y[0],S=y[1],D=Object(n.useState)(null),C=Object(i.a)(D,2),N=C[0],T=C[1],F=Object(n.useState)(null),k=Object(i.a)(F,2),q=k[0],L=k[1],E=Object(n.useState)(null),I=Object(i.a)(E,2),R=I[0],P=I[1],M=Object(n.useState)(null),A=Object(i.a)(M,2),z=A[0],B=A[1];return Object(v.jsx)("div",{className:"w-80 self-center flex-column justify-center ".concat(e.classes),children:Object(v.jsxs)("form",{onSubmit:a,className:"flex flex-column",children:[Object(v.jsxs)(h.a,{component:"legend",style:{marginTop:"20px"},children:[Object(v.jsx)("b",{children:"Full Name"})," "]}),Object(v.jsx)(x.a,{name:"name",id:"text",onChange:function(e){T(e.target.value)},type:"text",required:!0}),Object(v.jsx)("div",{className:"flex flex-row",children:Object(v.jsxs)("div",{style:{marginTop:"15px",display:"flex",alignItems:"center",flexFlow:"row wrap"},children:[Object(v.jsx)("span",{style:{marginRight:"40px"},children:Object(v.jsxs)(u.a,{children:[Object(v.jsx)(O.a,{id:"demo-simple-select-label",children:"Department"}),Object(v.jsxs)(p.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{width:"150px"},label:"Department",name:"department",value:l,onChange:function(e){d(e.target.value)},children:[Object(v.jsx)(g.a,{value:"CSE",children:"CS"}),Object(v.jsx)(g.a,{value:"it",children:"IT"}),Object(v.jsx)(g.a,{value:"ece",children:"ECE"}),Object(v.jsx)(g.a,{value:"ee",children:"EE"}),Object(v.jsx)(g.a,{value:"eee",children:"EEE"}),Object(v.jsx)(g.a,{value:"ce",children:"CE"}),Object(v.jsx)(g.a,{value:"me",children:"ME"})]})]})}),Object(v.jsx)("span",{children:Object(v.jsxs)(u.a,{children:[Object(v.jsx)(O.a,{id:"demo-simple-select-label",children:"Designation"}),Object(v.jsxs)(p.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{width:"150px"},label:"Designation",name:"designation",value:w,onChange:function(e){S(e.target.value)},children:[Object(v.jsx)(g.a,{value:"prof",children:"Professor"}),Object(v.jsx)(g.a,{value:"hod",children:"HOD"}),Object(v.jsx)(g.a,{value:"asstprof",children:"Assistant Professor"}),Object(v.jsx)(g.a,{value:"management",children:"Management"}),Object(v.jsx)(g.a,{value:"finance",children:"Finance"}),Object(v.jsx)(g.a,{value:"zzz",children:"Finance"})]})]})})]})}),Object(v.jsxs)(h.a,{component:"legend",style:{marginTop:"20px"},children:[Object(v.jsx)("b",{children:"Phone Number"})," "]}),Object(v.jsx)(x.a,{name:"phone",id:"text",onChange:function(e){L(e.target.value)},type:"text",required:!0}),Object(v.jsxs)(h.a,{component:"legend",style:{marginTop:"20px"},children:[Object(v.jsx)("b",{children:"Email"})," "]}),Object(v.jsx)(x.a,{name:"email",id:"text",onChange:function(e){P(e.target.value)},type:"text",required:!0}),Object(v.jsxs)(h.a,{component:"legend",style:{marginTop:"20px"},children:[Object(v.jsx)("b",{children:"Password"})," "]}),Object(v.jsx)(x.a,{name:"password",id:"text",type:"password",onChange:function(e){B(e.target.value)},required:!0}),Object(v.jsx)(m.a,{variant:"contained",type:"submit",style:{marginTop:"20px",marginBottom:"10px"},children:" Sign Up"})]})})},y=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(null),d=Object(i.a)(l,2),u=d[0],O=d[1],p=Object(b.g)(),g=function(){var e=Object(j.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={email:c,password:u},o.a.post("https://ncs-leave-management.herokuapp.com/api/login",a).then((function(e){console.log(e.data),e.data.jwt&&(localStorage.setItem("userToken",JSON.stringify(e.data)),localStorage.setItem("userData",JSON.stringify(e.data.data)),console.log("Login succesfull"),p.push("/profile"))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"flex-column justify-center ".concat(e.classes),children:Object(v.jsxs)("form",{onSubmit:g,className:"flex flex-column",children:[Object(v.jsxs)(h.a,{component:"legend",style:{marginTop:"20px"},children:[Object(v.jsx)("b",{children:"Email"})," "]}),Object(v.jsx)(x.a,{name:"name",id:"text",type:"text",onChange:function(e){s(e.target.value)},required:!0}),Object(v.jsxs)(h.a,{component:"legend",style:{marginTop:"20px"},children:[Object(v.jsx)("b",{children:"Password"})," "]}),Object(v.jsx)(x.a,{name:"name",id:"text",type:"password",onChange:function(e){O(e.target.value)},required:!0}),Object(v.jsx)(m.a,{variant:"contained",type:"submit",style:{marginTop:"20px",marginBottom:"50px"},children:" Login"})]})})},w=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(v.jsxs)("div",{className:"root-div flex flex-column",children:[Object(v.jsxs)("div",{className:"flex flex-row ",children:[Object(v.jsx)("span",{className:" w-50 ph-20 ".concat(a?"bb":""," "),onClick:function(){return c(!0)},children:"Login"}),Object(v.jsx)("span",{className:" w-50 ph-20 ".concat(a?"":"bb"),onClick:function(){return c(!1)},children:"Signup"})]}),Object(v.jsx)(f,{classes:a?"dn":"flex"}),Object(v.jsx)(y,{classes:a?"flex":"dn"})]})},S=(a(215),a(307)),D=a(303),C=a(308),N=a(309),T=a(305),F=a(306),k=a(310),q=function(e){var t=e.leaveDash;return console.log("huehue",t),Object(v.jsx)(v.Fragment,{children:t&&t.map((function(e){return Object(v.jsxs)(T.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(v.jsx)(F.a,{component:"th",scope:"row",children:"DUMMY"}),Object(v.jsx)(F.a,{align:"right",children:"DUMMY"}),Object(v.jsx)(F.a,{align:"right",children:"DUMMY"}),Object(v.jsx)(F.a,{align:"right",children:"DUMMY"}),Object(v.jsx)(F.a,{align:"right",children:"DUMMY"}),Object(v.jsx)(F.a,{align:"right",children:"Accept"})]},"dummy")}))})},L=a(283),E=function(e){var t=e.adminLeaveDash,a=JSON.parse(localStorage.getItem("userToken")),n=function(e){var t=e.id,n=e.status;o()({url:"https://ncs-leave-management.herokuapp.com/api/leave-application/".concat(t),method:"put",headers:{Authorization:"Bearer ".concat(a.jwt)},data:{status:n}}).then((function(e){console.log("huehueh",e.data),window.location.reload()})).catch((function(e){console.log(e)}))};return Object(v.jsx)(v.Fragment,{children:t.map((function(e){return"Pending"===e.status&&Object(v.jsxs)(T.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(v.jsx)(F.a,{component:"th",scope:"row",children:e.createdBy.fullName}),Object(v.jsx)(F.a,{align:"right",children:e.leaveRequestFor}),Object(v.jsx)(F.a,{align:"right",children:e.duration}),Object(v.jsx)(F.a,{align:"right",children:e.startDate}),Object(v.jsx)(F.a,{align:"right",children:e.endDate}),Object(v.jsx)(F.a,{align:"right",children:e.reason}),Object(v.jsx)(F.a,{align:"right",children:e.substituteClasses[0].substituteFaculty.fullName}),Object(v.jsx)(F.a,{align:"right",sx:{alignItems:"inline"},children:Object(v.jsxs)(L.a,{direction:"row",spacing:2,children:[Object(v.jsx)(m.a,{variant:"contained",color:"success",onClick:function(){return t=e._id,console.log(t),void n({id:t,status:"approved"});var t},sx:{fontSize:"8px",width:"5px"},children:"Accept"}),Object(v.jsx)(m.a,{variant:"contained",color:"error",onClick:function(){return t=e._id,console.log(t),void n({id:t,status:"rejected"});var t},sx:{fontSize:"8px",width:"5px"},children:"Reject"})]})})]},e._id)}))})},I=function(){Object(b.g)();var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=(t[1],Object(n.useState)([])),s=Object(i.a)(c,2),l=s[0],r=s[1],j=JSON.parse(localStorage.getItem("userData")),d=JSON.parse(localStorage.getItem("userToken"));return Object(n.useEffect)((function(){o()({url:"https://ncs-leave-management.herokuapp.com/api/leave-application",method:"get",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(d.jwt)}}).then((function(e){console.log("huehuehue",e.data.data),r(e.data.data)})).catch((function(e){return console.log("error",e)}))}),[]),Object(v.jsxs)("div",{className:"dashboard flex flex-column",children:[Object(v.jsx)("div",{children:Object(v.jsx)("h2",{children:" Dashboard "})}),"hod"!==j.designation?Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{marginTop:"15px",width:"50%"},children:Object(v.jsx)(S.a,{component:D.a,children:Object(v.jsxs)(C.a,{"aria-label":"simple table",children:[Object(v.jsx)(N.a,{children:Object(v.jsxs)(T.a,{children:[Object(v.jsx)(F.a,{children:Object(v.jsx)("b",{children:"Casual Leave"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Sick Leave"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Earned Leaves"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Pending Requests"})})]})}),Object(v.jsx)(k.a,{children:Object(v.jsxs)(T.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(v.jsx)(F.a,{component:"th",scope:"row",children:"12"}),Object(v.jsx)(F.a,{align:"right",children:"5"}),Object(v.jsx)(F.a,{align:"right",children:"5"}),Object(v.jsx)(F.a,{align:"right",children:"3"})]},"leaves")})]})})}),Object(v.jsxs)("div",{style:{marginRight:"20px",marginTop:"40px"},children:[Object(v.jsx)("h3",{children:" Pending Leaves  "}),Object(v.jsx)(S.a,{component:D.a,children:Object(v.jsxs)(C.a,{"aria-label":"simple table",children:[Object(v.jsx)(N.a,{children:Object(v.jsxs)(T.a,{children:[Object(v.jsx)(F.a,{children:Object(v.jsx)("b",{children:"Applied On"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Type of Leave"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Duration"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Leave Date"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Substitute Status"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Actions"})})]})}),Object(v.jsx)(k.a,{children:a&&Object(v.jsx)(q,{leaveDash:a})})]})})]})]}):Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{marginTop:"15px",width:"50%"},children:Object(v.jsx)(S.a,{component:D.a,children:Object(v.jsxs)(C.a,{"aria-label":"simple table",children:[Object(v.jsx)(N.a,{children:Object(v.jsxs)(T.a,{children:[Object(v.jsx)(F.a,{children:Object(v.jsx)("b",{children:"No. of teachers on leave"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Casual Leave"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Earned Leaves"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Pending Leaves"})})]})}),Object(v.jsx)(k.a,{children:Object(v.jsxs)(T.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(v.jsx)(F.a,{component:"th",scope:"row",children:"12"}),Object(v.jsx)(F.a,{align:"right",children:"5"}),Object(v.jsx)(F.a,{align:"right",children:"5"}),Object(v.jsx)(F.a,{align:"right",children:"3"})]},"leaves")})]})})}),Object(v.jsxs)("div",{style:{marginRight:"20px",marginTop:"40px"},children:[Object(v.jsx)("h3",{children:" Pending Leaves  "}),Object(v.jsx)(S.a,{component:D.a,children:Object(v.jsxs)(C.a,{"aria-label":"simple table",children:[Object(v.jsx)(N.a,{children:Object(v.jsxs)(T.a,{children:[Object(v.jsx)(F.a,{children:Object(v.jsx)("b",{children:"Requested By"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Leave Type"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Duration"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"From Date"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"To Date"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Reason"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Substituion"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Action"})})]})}),Object(v.jsx)(k.a,{children:l&&Object(v.jsx)(E,{adminLeaveDash:l})})]})})]})]})]})},R=a(78),P=(a(216),a(297)),M=a(311),A=a(304),z=a(284),B=a(293),J=a(285),U=a(286),Y=a(72),_=a.n(Y),G=a(149),V=a.n(G),H=function(){var e=Object(b.g)(),t=JSON.parse(localStorage.getItem("userData"));return Object(v.jsxs)(P.a,{sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box"}},variant:"permanent",anchor:"left",children:[Object(v.jsx)(M.a,{}),Object(v.jsx)(z.a,{}),Object(v.jsxs)(A.a,{children:[Object(v.jsxs)(B.a,{button:!0,children:[Object(v.jsx)(J.a,{children:Object(v.jsx)(_.a,{})}),Object(v.jsx)(U.a,{primary:"Dashboard",onClick:function(){return e.push("/dashboard")}})]},"Dashboard"),Object(v.jsxs)(B.a,{button:!0,children:[Object(v.jsx)(J.a,{children:Object(v.jsx)(_.a,{})}),Object(v.jsx)(U.a,{primary:"Apply For Leave",onClick:function(){return e.push("/leave-application")}})]},"Apply For Leave"),Object(v.jsxs)(B.a,{button:!0,children:[Object(v.jsx)(J.a,{children:Object(v.jsx)(_.a,{})}),Object(v.jsx)(U.a,{primary:"Substitution Request",onClick:function(){return e.push("/substitute-requests")}})]},"Substitution Request"),"hod"===t.designation&&Object(v.jsxs)(B.a,{button:!0,children:[Object(v.jsx)(J.a,{children:Object(v.jsx)(_.a,{})}),Object(v.jsx)(U.a,{primary:"Approved Leaves",onClick:function(){return e.push("/approved-leaves")}})]},"Approved Leaves")]}),Object(v.jsx)(z.a,{}),Object(v.jsxs)(A.a,{children:[Object(v.jsxs)(B.a,{button:!0,children:[Object(v.jsx)(J.a,{children:Object(v.jsx)(_.a,{})}),Object(v.jsx)(U.a,{primary:"Profile",onClick:function(){return e.push("/profile")}})]},"Profile"),Object(v.jsxs)(B.a,{button:!0,children:[Object(v.jsx)(J.a,{children:Object(v.jsx)(V.a,{})}),Object(v.jsx)(U.a,{primary:"Logout",onClick:function(){localStorage.removeItem("userData"),localStorage.removeItem("userToken"),e.push("/")}})]},"Logout")]})]})},W=a(312),K=a(319),Q=a(321),X=a(320),Z=function(e){var t=e.requestCards,a=function(e,t){alert("".concat(e," request of card with index ").concat(t))};return Object(v.jsx)(v.Fragment,{children:t.map((function(e,t){return Object(v.jsxs)(K.a,{sx:{minWidth:345,margin:"10px",paddingBottom:"6px"},children:[Object(v.jsxs)(X.a,{children:[Object(v.jsx)("h3",{children:"Requested By"}),Object(v.jsx)("p",{children:e.faculty}),Object(v.jsxs)(W.a,{sx:{display:"flex",p:1,bgcolor:"background.paper"},children:[Object(v.jsx)(W.a,{sx:{p:1,flexGrow:1},children:Object(v.jsx)("b",{children:"Date"})}),Object(v.jsx)(W.a,{sx:{p:1},children:Object(v.jsx)("b",{children:"Time"})})]}),Object(v.jsxs)(W.a,{sx:{display:"flex",p:1,bgcolor:"background.paper"},children:[Object(v.jsx)(W.a,{sx:{p:1,flexGrow:1},children:e.date}),Object(v.jsx)(W.a,{sx:{p:1},children:e.time})]}),Object(v.jsx)(W.a,{sx:{display:"flex",p:1,bgcolor:"background.paper"},children:Object(v.jsx)(W.a,{sx:{p:1,flexGrow:1},children:Object(v.jsx)("b",{children:"Subject"})})}),Object(v.jsx)(W.a,{sx:{display:"flex",p:1,bgcolor:"background.paper"},children:Object(v.jsx)(W.a,{sx:{p:1,flexGrow:1},children:e.subject})})]}),Object(v.jsxs)(Q.a,{name:"action",children:[Object(v.jsx)(m.a,{variant:"contained",size:"small",sx:{margin:"20px"},onClick:function(){a("accepted",t)},children:"Accept"}),Object(v.jsx)(m.a,{variant:"contained",size:"small",onClick:function(){a("rejected",t)},children:"Reject"})]})]})}))})},$=function(e){var t=e.substituteClasses;return console.log("huehue",t),Object(v.jsx)(v.Fragment,{children:t.map((function(e){return Object(v.jsxs)(T.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(v.jsx)(F.a,{component:"th",scope:"row",children:e.date}),Object(v.jsx)(F.a,{align:"right",children:e.time}),Object(v.jsx)(F.a,{align:"right",children:e.subject}),Object(v.jsx)(F.a,{align:"right",children:"DUMMY"}),Object(v.jsx)(F.a,{align:"right",children:"DUMMY"})]},e._id)}))})},ee=a(298),te=(a(217),function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=JSON.parse(localStorage.getItem("userToken")),l=JSON.parse(localStorage.getItem("userData"));function r(e,t,a,n){return{name:e,date:t,time:a,subject:n}}Object(n.useEffect)((function(){o()({url:"https://ncs-leave-management.herokuapp.com/api/user-request/?requestID=".concat(l._id),method:"get",headers:{authorization:"Bearer ".concat(s.jwt)}}).then((function(e){var t,a,n,s;(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.substituteClasses)&&c(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(s=n.user)||void 0===s?void 0:s.substituteClasses)})).catch((function(e){console.log(e)}))}),[]);var j=[r("Mr. wqret","2020-01-02","03:01:01","maths"),r("Mr. sad","2020-01-02","03:01:01","maths"),r("Mr. qwe","2020-01-02","03:01:01","maths")];return Object(v.jsxs)("div",{className:"subs flex flex-column",children:[Object(v.jsx)("div",{children:Object(v.jsx)("h2",{children:" Substitution Request "})}),Object(v.jsx)("div",{children:Object(v.jsx)("h3",{children:" Pending Request "})}),Object(v.jsx)("div",{style:{marginRight:"20px"},children:Object(v.jsx)(W.a,{sx:{flexGrow:1},children:Object(v.jsx)(ee.a,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},sx:{padding:"5px",margin:"10px"},children:Object(v.jsx)(Z,{requestCards:j})})})}),Object(v.jsxs)("div",{style:{marginRight:"20px"},children:[Object(v.jsx)("h2",{children:" Substituted Classes "}),Object(v.jsx)(S.a,{component:D.a,children:Object(v.jsxs)(C.a,{"aria-label":"simple table",children:[Object(v.jsx)(N.a,{children:Object(v.jsxs)(T.a,{children:[Object(v.jsx)(F.a,{children:Object(v.jsx)("b",{children:"Date"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Time"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Class"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Substitution Of"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Accepted On"})})]})}),Object(v.jsx)(k.a,{children:a&&Object(v.jsx)($,{substituteClasses:a})})]})})]})]})}),ae=a(47),ne=a(150),ce=a(301),se=a(323),ie=a(290),le=a(288),re=a(228),je=a(294),de=a(17),oe=a(291),be=(a(218),function(e){var t=e.formValues,a=e.setFormValues,n=function(e,n){var c=Object(de.a)(t);c[e][n.target.name]=n.target.value,a(c)};return console.log(t),Object(v.jsxs)(v.Fragment,{children:[t.map((function(e,c){return Object(v.jsxs)("div",{className:"substitute",style:{border:"1px solid gray",borderRadius:"5px",padding:"5px",marginTop:"5px"},children:[Object(v.jsx)("span",{className:"substituionFlex",children:Object(v.jsx)(h.a,{component:"legend",children:"Substituion For Classes: "})}),Object(v.jsx)("span",{className:"substituionFlex",children:Object(v.jsx)(x.a,{name:"subject",value:e.subject||"",onChange:function(e){return n(c,e)},id:"outlined-basic",label:"Subject",variant:"outlined"})}),Object(v.jsxs)(re.b,{dateAdapter:le.a,children:[Object(v.jsx)("span",{className:"substituionFlex",children:Object(v.jsx)(je.a,{label:"Date",name:"date",value:e.date||"",onChange:function(e){var n=Object(de.a)(t);n[c].date=e,a(n)},renderInput:function(e){return Object(v.jsx)(x.a,Object(ae.a)({},e))}})}),Object(v.jsx)("span",{className:"substituionFlex",children:Object(v.jsx)(oe.a,{label:"Time",name:"time",value:e.time||"",onChange:function(e){var n=Object(de.a)(t);n[c].time=e,a(n)},renderInput:function(e){return Object(v.jsx)(x.a,Object(ae.a)({},e))}})})]}),Object(v.jsx)("span",{className:"substituionFlex",children:Object(v.jsx)(x.a,{name:"substituteFaculty",value:e.substituteFaculty||"",onChange:function(e){return n(c,e)},id:"outlined-basic",label:"Substitution Faculty",variant:"outlined"})}),Object(v.jsx)("span",{className:"substituionFlex",children:Object(v.jsx)(x.a,{name:"email",value:e.email||"",onChange:function(e){return n(c,e)},id:"outlined-basic",label:"Email Address",variant:"outlined"})})]})})),Object(v.jsx)("span",{children:Object(v.jsx)(m.a,{style:{marginTop:"10px"},variant:"contained",onClick:function(){a([].concat(Object(de.a)(t),[{subject:"",date:"",time:"",substituteFaculty:"",email:""}]))},children:"Add Substitute"})})]})});a(219);function he(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),c=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[c,a,n].join("-")}var xe=function(e){var t=Object(n.useState)(new Date,null),a=Object(i.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(new Date,null),r=Object(i.a)(l,2),j=r[0],d=r[1],b=Object(n.useState)([{subject:"",date:"",time:"",substituteFaculty:"",email:""}]),O=Object(i.a)(b,2),p=O[0],g=O[1];return Object(v.jsxs)("div",{className:"leave1 flex flex-column",children:[Object(v.jsx)("div",{children:Object(v.jsx)("h2",{children:"Apply for Leave"})}),Object(v.jsx)("div",{children:Object(v.jsxs)("span",{style:{paddingTop:"5px"},children:[Object(v.jsx)("b",{children:"Leave Address:\xa0"}),e.name]})}),Object(v.jsx)("form",{name:"tox",id:"my-form-id",onSubmit:function(e){e.preventDefault();var t,a=[],n=Object(ne.a)(p);try{for(n.s();!(t=n.n()).done;){var s=t.value;a.push({substituteFaculty:s.substituteFaculty,data:{date:he(s.date),time:new Date(s.time).toTimeString().split(" ")[0],subject:s.subject,email:s.email}})}}catch(r){n.e(r)}finally{n.f()}var i={leaveRequestFor:e.target.leave.value,duration:e.target.dayLength.value,startDate:he(c),endDate:he(j),reason:e.target.reason.value,substituteClasses:a},l=JSON.parse(localStorage.getItem("userToken"));o()({url:"https://ncs-leave-management.herokuapp.com/api/leave-application",method:"post",data:i,headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(l.jwt)}}).then((function(e){return console.log(e.data)})).catch((function(e){console.log(e)})),console.log(JSON.stringify(i))},children:Object(v.jsxs)(u.a,{component:"fieldset",children:[Object(v.jsxs)("div",{style:{paddingTop:"30px"},children:[Object(v.jsx)(h.a,{component:"legend",children:"Apply Leave For: "}),Object(v.jsxs)(ce.a,{row:!0,"aria-label":"leave",name:"leave",children:[Object(v.jsx)(se.a,{value:"casual",control:Object(v.jsx)(ie.a,{required:!0}),label:"Casual Leave"}),Object(v.jsx)(se.a,{value:"earned",control:Object(v.jsx)(ie.a,{required:!0}),label:"Earned Leave"}),Object(v.jsx)(se.a,{value:"semester",control:Object(v.jsx)(ie.a,{required:!0}),label:"Semester Break"})]})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(h.a,{component:"legend",style:{paddingTop:"40px"},children:"Duration: "}),Object(v.jsxs)(ce.a,{row:!0,"aria-label":"duration",name:"dayLength",required:!0,children:[Object(v.jsx)(se.a,{value:"halfday",control:Object(v.jsx)(ie.a,{required:!0}),label:"Half Day"}),Object(v.jsx)(se.a,{value:"fullday",control:Object(v.jsx)(ie.a,{required:!0}),label:"Full Day"})]})]}),Object(v.jsxs)("div",{style:{paddingTop:"30px"},children:[Object(v.jsx)("span",{children:Object(v.jsx)("p",{children:"Date"})}),Object(v.jsxs)(re.b,{dateAdapter:le.a,children:[Object(v.jsx)("span",{children:Object(v.jsx)(je.a,{label:"From",value:c,onChange:function(e){s(e)},InputProps:{readOnly:!0},disablePast:!0,renderInput:function(e){return Object(v.jsx)(x.a,Object(ae.a)({},e))}})}),Object(v.jsx)("span",{style:{marginLeft:"40px"},children:Object(v.jsx)(je.a,{label:"To",value:j,disablePast:!0,onChange:function(e){d(e)},renderInput:function(e){return Object(v.jsx)(x.a,Object(ae.a)({},e))},required:!0})})]})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(h.a,{component:"legend",style:{paddingTop:"30px"},children:"Reason: "}),Object(v.jsx)(x.a,{name:"reason",id:"text",type:"text",required:!0,style:{width:"1040px",height:"104px"}})]}),Object(v.jsx)("div",{children:Object(v.jsx)(be,{formValues:p,setFormValues:g})}),Object(v.jsx)(m.a,{variant:"contained",type:"submit",style:{marginTop:"10px",width:"5rem"},children:" Submit"})]})})]})},ue=(a(220),function(){var e=Object(b.g)(),t=JSON.parse(localStorage.getItem("userData")),a=Object(n.useState)(t.fullName),c=Object(i.a)(a,2),s=c[0],l=c[1],r=Object(n.useState)(t.department),j=Object(i.a)(r,2),d=j[0],f=j[1],y=Object(n.useState)(t.designation),w=Object(i.a)(y,2),S=w[0],D=w[1],C=Object(n.useState)(t.email),N=Object(i.a)(C,2),T=N[0],F=N[1],k=Object(n.useState)(t.phone),q=Object(i.a)(k,2),L=q[0],E=q[1],I=Object(n.useState)(t._id),R=Object(i.a)(I,2);R[0],R[1];return Object(v.jsxs)("div",{className:"userprofile flex flex-column",children:[Object(v.jsx)("div",{children:Object(v.jsxs)("form",{name:"tox",id:"my-form-id",onSubmit:function(t){t.preventDefault();var a={};t.target.name.value&&(a.fullName=t.target.name.value),t.target.department.value&&(a.department=t.target.department.value),t.target.designation.value&&(a.designation=t.target.designation.value),t.target.email.value&&(a.email=t.target.email.value),t.target.phone.value&&(a.phone=t.target.phone.value);var n=JSON.parse(localStorage.getItem("userToken"));console.log(a);o()({method:"put",url:"https://ncs-leave-management.herokuapp.com/api/update-user",data:a,headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(n.jwt)}}).then((function(t){localStorage.setItem("userData",JSON.stringify(t.data.data)),e.push("/profile")})).catch((function(e){console.log(e)}))},children:[Object(v.jsx)("h2",{children:" Profile "}),Object(v.jsxs)(u.a,{component:"fieldset",children:[Object(v.jsxs)("div",{style:{marginTop:"15px"},children:[Object(v.jsxs)(h.a,{component:"legend",children:[Object(v.jsx)("b",{children:"Full Name"})," "]}),Object(v.jsx)(x.a,{name:"name",id:"text",type:"text",placeholder:s,onChange:function(e){l(e.target.value)},style:{width:"500px"}})]}),Object(v.jsxs)("div",{style:{marginTop:"15px",display:"flex",alignItems:"center",flexFlow:"row wrap"},children:[Object(v.jsx)("span",{style:{marginRight:"40px"},children:Object(v.jsxs)(u.a,{children:[Object(v.jsx)(O.a,{id:"demo-simple-select-label",children:"Department"}),Object(v.jsxs)(p.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{width:"300px"},label:"Department",name:"department",value:d,onChange:function(e){f(e.target.value)},children:[Object(v.jsx)(g.a,{value:"CSE",children:"CS"}),Object(v.jsx)(g.a,{value:"it",children:"IT"}),Object(v.jsx)(g.a,{value:"ece",children:"ECE"}),Object(v.jsx)(g.a,{value:"ee",children:"EE"}),Object(v.jsx)(g.a,{value:"eee",children:"EEE"}),Object(v.jsx)(g.a,{value:"ce",children:"CE"}),Object(v.jsx)(g.a,{value:"me",children:"ME"})]})]})}),Object(v.jsx)("span",{children:Object(v.jsxs)(u.a,{children:[Object(v.jsx)(O.a,{id:"demo-simple-select-label",children:"Designation"}),Object(v.jsxs)(p.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{width:"300px"},label:"Designation",name:"designation",value:S,onChange:function(e){D(e.target.value)},children:[Object(v.jsx)(g.a,{value:"student",children:"Student"}),Object(v.jsx)(g.a,{value:"faculty",children:"Faculty"}),Object(v.jsx)(g.a,{value:"hod",children:"HOD"}),Object(v.jsx)(g.a,{value:"management",children:"Management"}),Object(v.jsx)(g.a,{value:"finance",children:"Finance"}),Object(v.jsx)(g.a,{value:"zzz",children:"Finance"})]})]})})]}),Object(v.jsxs)("div",{style:{marginTop:"15px"},children:[Object(v.jsxs)(h.a,{component:"legend",children:[Object(v.jsx)("b",{children:"Email"})," "]}),Object(v.jsx)(x.a,{name:"email",id:"text",type:"email",placeholder:T,onChange:function(e){F(e.target.value)},style:{width:"500px"}})]}),Object(v.jsxs)("div",{style:{marginTop:"15px"},children:[Object(v.jsxs)(h.a,{component:"legend",children:[Object(v.jsx)("b",{children:"Phone Number"})," "]}),Object(v.jsx)(x.a,{name:"phone",id:"text",type:"text",placeholder:L,onChange:function(e){E(e.target.value)},style:{width:"500px"}})]}),Object(v.jsx)(m.a,{variant:"contained",type:"submit",style:{marginTop:"20px",width:"10rem"},children:" Edit Profile"})]})]})}),Object(v.jsx)("div",{children:Object(v.jsxs)("form",{name:"tox2",id:"my-form-id2",onSubmit:function(e){e.preventDefault();var t={oldpass:e.target.oldpass.value,newpass:e.target.newpass.value,renewpass:e.target.renewpass.value};alert("values to change ".concat(JSON.stringify(t)))},children:[Object(v.jsx)("h2",{children:" Change Password "}),Object(v.jsx)("p",{children:" The password should be 6 character long "}),Object(v.jsxs)(u.a,{component:"fieldset",children:[Object(v.jsxs)("div",{style:{marginTop:"15px"},children:[Object(v.jsxs)(h.a,{component:"legend",children:[Object(v.jsx)("b",{children:"Password"})," "]}),Object(v.jsx)(x.a,{name:"oldpass",id:"text",type:"password",required:!0,style:{width:"500px"}})]}),Object(v.jsxs)("div",{style:{marginTop:"15px",display:"flex",alignItems:"center",flexFlow:"row wrap"},children:[Object(v.jsxs)("span",{style:{marginRight:"40px"},children:[Object(v.jsxs)(h.a,{component:"legend",children:[Object(v.jsx)("b",{children:"New Password"})," "]}),Object(v.jsx)(x.a,{name:"newpass",id:"text",type:"password",required:!0,style:{width:"300px"}})]}),Object(v.jsxs)("span",{children:[Object(v.jsxs)(h.a,{component:"legend",children:[Object(v.jsx)("b",{children:"Re Enter New Password"})," "]}),Object(v.jsx)(x.a,{name:"renewpass",id:"text",type:"password",required:!0,style:{width:"300px"}})]})]}),Object(v.jsx)(m.a,{variant:"contained",type:"submit",style:{marginTop:"20px",width:"15rem"},children:" Reset Password"})]})]})})]})}),Oe=a(154),pe=["sideNav","component"],ge=function(e){var t,a=e.sideNav,n=e.component,c=Object(Oe.a)(e,pe);try{t=localStorage.getItem("userToken").length>10?1:0}catch(s){t=0}return Object(v.jsx)(b.b,Object(ae.a)(Object(ae.a)({},c),{},{render:function(e){return 1===t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(a,{}),Object(v.jsx)(n,Object(ae.a)({},e))]}):Object(v.jsx)(b.a,{to:{pathname:"/"}})}}))},me=a(152),ve=function(e){var t=e.approvedLeavePartial,a=e.status;return Object(v.jsx)(v.Fragment,{children:t.map((function(e){return e.status===a&&Object(v.jsxs)(T.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(v.jsx)(F.a,{component:"th",scope:"row",children:e.createdBy.fullName}),Object(v.jsx)(F.a,{align:"right",children:e.leaveRequestFor}),Object(v.jsx)(F.a,{align:"right",children:e.duration}),Object(v.jsx)(F.a,{align:"right",children:e.startDate}),Object(v.jsx)(F.a,{align:"right",children:e.endDate}),Object(v.jsx)(F.a,{align:"right",children:e.reason}),Object(v.jsx)(F.a,{align:"right",children:e.substituteClasses[0].substituteFaculty.fullName})]},e._id)}))})},fe=function(e){Object(me.a)(e);var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],s=a[1],l=JSON.parse(localStorage.getItem("userToken"));return Object(n.useEffect)((function(){o()({url:"https://ncs-leave-management.herokuapp.com/api/leave-application",method:"get",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(l.jwt)}}).then((function(e){console.log("huehuehue",e.data.data),s(e.data.data)})).catch((function(e){return console.log("error",e)}))}),[]),Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"dashboard flex flex-column",children:Object(v.jsxs)("div",{style:{marginRight:"20px",marginTop:"40px"},children:[Object(v.jsx)("h3",{children:" Approved Leaves  "}),Object(v.jsx)(S.a,{component:D.a,children:Object(v.jsxs)(C.a,{"aria-label":"simple table",children:[Object(v.jsx)(N.a,{children:Object(v.jsxs)(T.a,{children:[Object(v.jsx)(F.a,{children:Object(v.jsx)("b",{children:"Requested By"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Leave Type"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Duration"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"From Date"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"To Date"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Reason"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Substituion"})})]})}),Object(v.jsx)(k.a,{children:c&&Object(v.jsx)(ve,{approvedLeavePartial:c,status:"approved"})})]})}),Object(v.jsx)("h3",{children:" Rejected Leaves  "}),Object(v.jsx)(S.a,{component:D.a,children:Object(v.jsxs)(C.a,{"aria-label":"simple table",children:[Object(v.jsx)(N.a,{children:Object(v.jsxs)(T.a,{children:[Object(v.jsx)(F.a,{children:Object(v.jsx)("b",{children:"Requested By"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Leave Type"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Duration"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"From Date"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"To Date"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Reason"})}),Object(v.jsx)(F.a,{align:"right",children:Object(v.jsx)("b",{children:"Substituion"})})]})}),Object(v.jsx)(k.a,{children:c&&Object(v.jsx)(ve,{approvedLeavePartial:c,status:"rejected"})})]})})]})})})};var ye=function(){return Object(v.jsx)(R.a,{children:Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)(b.d,{children:[Object(v.jsx)(b.b,{exact:!0,path:"/",component:w}),Object(v.jsx)(ge,{exact:!0,path:"/dashboard",sideNav:H,component:I}),Object(v.jsx)(ge,{exact:!0,path:"/profile",sideNav:H,component:ue}),Object(v.jsx)(ge,{exact:!0,path:"/leave-application",sideNav:H,component:xe}),Object(v.jsx)(ge,{exact:!0,path:"/substitute-requests",sideNav:H,component:te}),Object(v.jsx)(ge,{exact:!0,path:"/approved-leaves",sideNav:H,component:fe})]})})})};s.a.render(Object(v.jsx)(R.a,{children:Object(v.jsx)(ye,{})}),document.getElementById("root"))}},[[221,1,2]]]);
//# sourceMappingURL=main.39fab7a5.chunk.js.map